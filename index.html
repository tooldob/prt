<script>document.write(decodeURIComponent(escape(atob("PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KPGhlYWQ+CiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCI+CiAgICA8dGl0bGU+UGhvdG8gUmVuYW1pbmcgVG9vbCAtIEZ1bGwgU2NyZWVuPC90aXRsZT4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvZm9udC1hd2Vzb21lLzYuNC4wL2Nzcy9hbGwubWluLmNzcyI+CiAgICA8c3R5bGU+CiAgICAgICAgKiB7CiAgICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgICAgICAgICAgIG1hcmdpbjogMDsKICAgICAgICAgICAgcGFkZGluZzogMDsKICAgICAgICAgICAgZm9udC1mYW1pbHk6ICdTZWdvZSBVSScsIFRhaG9tYSwgR2VuZXZhLCBWZXJkYW5hLCBzYW5zLXNlcmlmOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBib2R5IHsKICAgICAgICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzFhMjk4MCwgIzI2ZDBjZSk7CiAgICAgICAgICAgIG1pbi1oZWlnaHQ6IDEwMHZoOwogICAgICAgICAgICBwYWRkaW5nOiAxMHB4OwogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICAgICAgY29sb3I6ICMzMzM7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC5jb250YWluZXIgewogICAgICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICAgICAgbWF4LXdpZHRoOiA1NTBweDsKICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDE1cHg7CiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgMTBweCA0MHB4IHJnYmEoMCwgMCwgMCwgMC4zKTsKICAgICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjsKICAgICAgICAgICAgbWF4LWhlaWdodDogOTV2aDsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLmhlYWRlciB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh0byByaWdodCwgIzFhMjk4MCwgIzI2ZDBjZSk7CiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTsKICAgICAgICAgICAgcGFkZGluZzogMTVweDsKICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICAgICAgICAgIGZsZXgtc2hyaW5rOiAwOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAuaGVhZGVyIGgxIHsKICAgICAgICAgICAgZm9udC1zaXplOiAxLjRyZW07CiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDNweDsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLmhlYWRlciBwIHsKICAgICAgICAgICAgZm9udC1zaXplOiAwLjg1cmVtOwogICAgICAgICAgICBvcGFjaXR5OiAwLjk7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC50YWJzIHsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAgYmFja2dyb3VuZDogI2YwZjRmZjsKICAgICAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNjMmQxZmY7CiAgICAgICAgICAgIGZsZXgtc2hyaW5rOiAwOwogICAgICAgICAgICBmbGV4LXdyYXA6IHdyYXA7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC50YWIgewogICAgICAgICAgICBmbGV4OiAxOwogICAgICAgICAgICBwYWRkaW5nOiAxMHB4IDVweDsKICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7CiAgICAgICAgICAgIGNvbG9yOiAjMWEyOTgwOwogICAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlOwogICAgICAgICAgICBmb250LXNpemU6IDAuODVyZW07CiAgICAgICAgICAgIG1pbi13aWR0aDogODBweDsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLnRhYi5hY3RpdmUgewogICAgICAgICAgICBiYWNrZ3JvdW5kOiB3aGl0ZTsKICAgICAgICAgICAgY29sb3I6ICMxYTI5ODA7CiAgICAgICAgICAgIGJvcmRlci1ib3R0b206IDNweCBzb2xpZCAjMjZkMGNlOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAudGFiLmRpc2FibGVkIHsKICAgICAgICAgICAgb3BhY2l0eTogMC41OwogICAgICAgICAgICBjdXJzb3I6IG5vdC1hbGxvd2VkOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAuY29udGVudCB7CiAgICAgICAgICAgIHBhZGRpbmc6IDE1cHg7CiAgICAgICAgICAgIGZsZXg6IDE7CiAgICAgICAgICAgIG92ZXJmbG93LXk6IGF1dG87CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC50YWItY29udGVudCB7CiAgICAgICAgICAgIGRpc3BsYXk6IG5vbmU7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC50YWItY29udGVudC5hY3RpdmUgewogICAgICAgICAgICBkaXNwbGF5OiBibG9jazsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLnNlY3Rpb24gewogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxNXB4OwogICAgICAgIH0KICAgICAgICAKICAgICAgICBoMiB7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMXJlbTsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogOHB4OwogICAgICAgICAgICBjb2xvcjogIzFhMjk4MDsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgaDIgaSB7CiAgICAgICAgICAgIG1hcmdpbi1yaWdodDogNnB4OwogICAgICAgICAgICBjb2xvcjogIzI2ZDBjZTsKICAgICAgICAgICAgZm9udC1zaXplOiAwLjlyZW07CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC5mb3JtLWdyb3VwIHsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgbGFiZWwgewogICAgICAgICAgICBkaXNwbGF5OiBibG9jazsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogNHB4OwogICAgICAgICAgICBmb250LXNpemU6IDAuODVyZW07CiAgICAgICAgICAgIGNvbG9yOiAjMWEyOTgwOwogICAgICAgICAgICBmb250LXdlaWdodDogNTAwOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBpbnB1dCwgc2VsZWN0LCB0ZXh0YXJlYSB7CiAgICAgICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgICAgICBwYWRkaW5nOiAxMHB4OwogICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjYzJkMWZmOwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMC45cmVtOwogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjlmYmZmOwogICAgICAgIH0KICAgICAgICAKICAgICAgICB0ZXh0YXJlYSB7CiAgICAgICAgICAgIG1pbi1oZWlnaHQ6IDgwcHg7CiAgICAgICAgICAgIHJlc2l6ZTogdmVydGljYWw7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC5yYW5nZS1pbnB1dHMgewogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICBnYXA6IDhweDsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLnJhbmdlLWlucHV0cyBpbnB1dCB7CiAgICAgICAgICAgIGZsZXg6IDE7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC5wcmVmaXgtaW5wdXRzIHsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICAgICAgICAgICAgZ2FwOiA4cHg7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC5wcmVmaXgtaW5wdXQtcm93IHsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICAgICAgZ2FwOiA4cHg7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC5wcmVmaXgtaW5wdXQtcm93IGlucHV0IHsKICAgICAgICAgICAgZmxleDogMTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLmFkZC1wcmVmaXgtYnRuIHsKICAgICAgICAgICAgYmFja2dyb3VuZDogIzI2ZDBjZTsKICAgICAgICAgICAgY29sb3I6IHdoaXRlOwogICAgICAgICAgICBib3JkZXI6IG5vbmU7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDsKICAgICAgICAgICAgd2lkdGg6IDMwcHg7CiAgICAgICAgICAgIGhlaWdodDogMzBweDsKICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgICBmb250LXNpemU6IDEuMnJlbTsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICAgICAgICAgIG1hcmdpbi10b3A6IDVweDsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLmFkZC1wcmVmaXgtYnRuLmRpc2FibGVkIHsKICAgICAgICAgICAgYmFja2dyb3VuZDogI2NjYzsKICAgICAgICAgICAgY3Vyc29yOiBub3QtYWxsb3dlZDsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLnJlbW92ZS1wcmVmaXgtYnRuIHsKICAgICAgICAgICAgYmFja2dyb3VuZDogI2ZmNDc1NzsKICAgICAgICAgICAgY29sb3I6IHdoaXRlOwogICAgICAgICAgICBib3JkZXI6IG5vbmU7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDsKICAgICAgICAgICAgd2lkdGg6IDI1cHg7CiAgICAgICAgICAgIGhlaWdodDogMjVweDsKICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgICBmb250LXNpemU6IDAuOHJlbTsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC5maWxlLWFyZWEgewogICAgICAgICAgICBib3JkZXI6IDJweCBkYXNoZWQgI2MyZDFmZjsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTBweDsKICAgICAgICAgICAgcGFkZGluZzogMTVweDsKICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjlmYmZmOwogICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7CiAgICAgICAgICAgIG1hcmdpbi10b3A6IDEwcHg7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC5maWxlLWFyZWE6aG92ZXIgewogICAgICAgICAgICBib3JkZXItY29sb3I6ICMyNmQwY2U7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmMGY0ZmY7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC5maWxlLWFyZWEuZGlzYWJsZWQgewogICAgICAgICAgICBvcGFjaXR5OiAwLjU7CiAgICAgICAgICAgIGN1cnNvcjogbm90LWFsbG93ZWQ7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC5maWxlLWFyZWEuZGlzYWJsZWQ6aG92ZXIgewogICAgICAgICAgICBib3JkZXItY29sb3I6ICNjMmQxZmY7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmOWZiZmY7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC5maWxlLWFyZWEgaSB7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMnJlbTsKICAgICAgICAgICAgY29sb3I6ICMyNmQwY2U7CiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDhweDsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLmZpbGUtYXJlYSBwIHsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDsKICAgICAgICAgICAgY29sb3I6ICM1NTU7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMC45cmVtOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAuZmlsZS1hcmVhIC5idG4gewogICAgICAgICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQodG8gcmlnaHQsICMyNmQwY2UsICMxYTI5ODApOwogICAgICAgICAgICBjb2xvcjogd2hpdGU7CiAgICAgICAgICAgIHBhZGRpbmc6IDZweCAxNXB4OwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiAxOHB4OwogICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgICAgICAgZm9udC1zaXplOiAwLjg1cmVtOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAuZmlsZS1hcmVhIC5idG4uZGlzYWJsZWQgewogICAgICAgICAgICBiYWNrZ3JvdW5kOiAjY2NjOwogICAgICAgICAgICBjdXJzb3I6IG5vdC1hbGxvd2VkOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAubmFtZS1saXN0IHsKICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2Y5ZmJmZjsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTBweDsKICAgICAgICAgICAgcGFkZGluZzogMTBweDsKICAgICAgICAgICAgbWF4LWhlaWdodDogMTIwcHg7CiAgICAgICAgICAgIG92ZXJmbG93LXk6IGF1dG87CiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNlMGU4ZmY7CiAgICAgICAgICAgIG1hcmdpbi10b3A6IDEwcHg7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMC44NXJlbTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLm5hbWUtaXRlbSB7CiAgICAgICAgICAgIHBhZGRpbmc6IDZweCA4cHg7CiAgICAgICAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZTBlOGZmOwogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAubmFtZS1pdGVtOmxhc3QtY2hpbGQgewogICAgICAgICAgICBib3JkZXItYm90dG9tOiBub25lOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAubmFtZS1pdGVtOjpiZWZvcmUgewogICAgICAgICAgICBjb250ZW50OiAi4oCiIjsKICAgICAgICAgICAgY29sb3I6ICMyNmQwY2U7CiAgICAgICAgICAgIG1hcmdpbi1yaWdodDogOHB4OwogICAgICAgICAgICBmb250LXNpemU6IDFyZW07CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC5hY3Rpb24tYnRucyB7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGdhcDogMTBweDsKICAgICAgICAgICAgbWFyZ2luLXRvcDogMTVweDsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLmJ0biB7CiAgICAgICAgICAgIGZsZXg6IDE7CiAgICAgICAgICAgIHBhZGRpbmc6IDEwcHg7CiAgICAgICAgICAgIGJvcmRlcjogbm9uZTsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4OwogICAgICAgICAgICBmb250LXdlaWdodDogNjAwOwogICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMC45cmVtOwogICAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlOwogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICAgICAgZ2FwOiA2cHg7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC5idG4ucmVuYW1lIHsKICAgICAgICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvIHJpZ2h0LCAjMjZkMGNlLCAjMWEyOTgwKTsKICAgICAgICAgICAgY29sb3I6IHdoaXRlOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAuYnRuLmRvd25sb2FkIHsKICAgICAgICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvIHJpZ2h0LCAjMDBiMDliLCAjOTZjOTNkKTsKICAgICAgICAgICAgY29sb3I6IHdoaXRlOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAuYnRuLnJlc2V0IHsKICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2YwZjRmZjsKICAgICAgICAgICAgY29sb3I6ICMxYTI5ODA7CiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNjMmQxZmY7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC5idG46aG92ZXIgewogICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTJweCk7CiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgNHB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMSk7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC5idG46YWN0aXZlIHsKICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDApOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAuYnRuLmRpc2FibGVkIHsKICAgICAgICAgICAgb3BhY2l0eTogMC41OwogICAgICAgICAgICBjdXJzb3I6IG5vdC1hbGxvd2VkOwogICAgICAgICAgICBwb2ludGVyLWV2ZW50czogbm9uZTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLmJ0bi5kaXNhYmxlZDpob3ZlciB7CiAgICAgICAgICAgIHRyYW5zZm9ybTogbm9uZTsKICAgICAgICAgICAgYm94LXNoYWRvdzogbm9uZTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLnN0YXR1cy1iYXIgewogICAgICAgICAgICBtYXJnaW4tdG9wOiAxNXB4OwogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTZmMGZmOwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiAxMHB4OwogICAgICAgICAgICBwYWRkaW5nOiAxMHB4OwogICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMC44NXJlbTsKICAgICAgICAgICAgY29sb3I6ICMxYTI5ODA7CiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNjMmQxZmY7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC5oaWRkZW4gewogICAgICAgICAgICBkaXNwbGF5OiBub25lOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAuZmlsZS1jb3VudCB7CiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICAgICAgdG9wOiA4cHg7CiAgICAgICAgICAgIHJpZ2h0OiAxNXB4OwogICAgICAgICAgICBiYWNrZ3JvdW5kOiAjZmY0NzU3OwogICAgICAgICAgICBjb2xvcjogd2hpdGU7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTsKICAgICAgICAgICAgd2lkdGg6IDI1cHg7CiAgICAgICAgICAgIGhlaWdodDogMjVweDsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgICAgICAgICBmb250LXNpemU6IDAuOHJlbTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLmN1c3RvbS1ub3RlIHsKICAgICAgICAgICAgZm9udC1zaXplOiAwLjc1cmVtOwogICAgICAgICAgICBjb2xvcjogIzY2NjsKICAgICAgICAgICAgbWFyZ2luLXRvcDogM3B4OwogICAgICAgICAgICBmb250LXN0eWxlOiBpdGFsaWM7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC5wcm9ncmVzcy1jb250YWluZXIgewogICAgICAgICAgICBtYXJnaW4tdG9wOiAxMHB4OwogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTBlOGZmOwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiAxMHB4OwogICAgICAgICAgICBoZWlnaHQ6IDhweDsKICAgICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLnByb2dyZXNzLWJhciB7CiAgICAgICAgICAgIGhlaWdodDogMTAwJTsKICAgICAgICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvIHJpZ2h0LCAjMjZkMGNlLCAjMWEyOTgwKTsKICAgICAgICAgICAgd2lkdGg6IDAlOwogICAgICAgICAgICB0cmFuc2l0aW9uOiB3aWR0aCAwLjNzIGVhc2U7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC5waG90by1jeWNsZS1ub3RlIHsKICAgICAgICAgICAgZm9udC1zaXplOiAwLjc1cmVtOwogICAgICAgICAgICBjb2xvcjogI2ZmNDc1NzsKICAgICAgICAgICAgbWFyZ2luLXRvcDogM3B4OwogICAgICAgICAgICBmb250LXdlaWdodDogNTAwOwogICAgICAgICAgICBiYWNrZ3JvdW5kOiAjZmZmMGYwOwogICAgICAgICAgICBwYWRkaW5nOiAzcHggNnB4OwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7CiAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLmF1dG8tYWRqdXN0LW5vdGUgewogICAgICAgICAgICBmb250LXNpemU6IDAuNzVyZW07CiAgICAgICAgICAgIGNvbG9yOiAjMjZkMGNlOwogICAgICAgICAgICBtYXJnaW4tdG9wOiAzcHg7CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7CiAgICAgICAgICAgIGJhY2tncm91bmQ6ICNmMGY0ZmY7CiAgICAgICAgICAgIHBhZGRpbmc6IDNweCA2cHg7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDsKICAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAvKiBMaWNlbnNlIHNwZWNpZmljIHN0eWxlcyAqLwogICAgICAgIC5saWNlbnNlLXN0YXR1cy1hY3RpdmUgewogICAgICAgICAgICBjb2xvcjogIzAwYjA5YiAhaW1wb3J0YW50OwogICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLmxpY2Vuc2Utc3RhdHVzLWV4cGlyZWQgewogICAgICAgICAgICBjb2xvcjogI2ZmNDc1NyAhaW1wb3J0YW50OwogICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLmxpY2Vuc2Utc3RhdHVzLWludmFsaWQgewogICAgICAgICAgICBjb2xvcjogI2ZmNDc1NyAhaW1wb3J0YW50OwogICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLmxpY2Vuc2Utd2FybmluZyB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6ICNmZmYwZjAgIWltcG9ydGFudDsKICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI2ZmNDc1NyAhaW1wb3J0YW50OwogICAgICAgICAgICBjb2xvcjogI2ZmNDc1NyAhaW1wb3J0YW50OwogICAgICAgICAgICBwYWRkaW5nOiAxMHB4ICFpbXBvcnRhbnQ7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDhweCAhaW1wb3J0YW50OwogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxNXB4ICFpbXBvcnRhbnQ7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMC44NXJlbSAhaW1wb3J0YW50OwogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgICAgICBnYXA6IDhweDsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLmxpY2Vuc2UtYmFkZ2UgewogICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgICAgIHRvcDogOHB4OwogICAgICAgICAgICBsZWZ0OiAxNXB4OwogICAgICAgICAgICBiYWNrZ3JvdW5kOiAjMDBiMDliOwogICAgICAgICAgICBjb2xvcjogd2hpdGU7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDE1cHg7CiAgICAgICAgICAgIHBhZGRpbmc6IDNweCAxMHB4OwogICAgICAgICAgICBmb250LXNpemU6IDAuN3JlbTsKICAgICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC8qIENvcHkgYnV0dG9uIHN0eWxlcyAqLwogICAgICAgIC5jb3B5LWJ0biB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6ICMyNmQwY2U7CiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTsKICAgICAgICAgICAgYm9yZGVyOiBub25lOwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1cHg7CiAgICAgICAgICAgIHBhZGRpbmc6IDVweCAxMHB4OwogICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMC44cmVtOwogICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtZmxleDsKICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICAgICAgZ2FwOiA1cHg7CiAgICAgICAgICAgIG1hcmdpbi10b3A6IDVweDsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLmNvcHktYnRuOmhvdmVyIHsKICAgICAgICAgICAgYmFja2dyb3VuZDogIzFhMjk4MDsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLyogRGV2aWNlIElEIGRpc3BsYXkgKi8KICAgICAgICAuZGV2aWNlLWlkLWRpc3BsYXkgewogICAgICAgICAgICBiYWNrZ3JvdW5kOiAjZjBmNGZmOwogICAgICAgICAgICBwYWRkaW5nOiA4cHggMTJweDsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNnB4OwogICAgICAgICAgICBmb250LWZhbWlseTogbW9ub3NwYWNlOwogICAgICAgICAgICBmb250LXNpemU6IDAuODVyZW07CiAgICAgICAgICAgIHdvcmQtYnJlYWs6IGJyZWFrLWFsbDsKICAgICAgICAgICAgbWFyZ2luLXRvcDogNXB4OwogICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjYzJkMWZmOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAvKiBEZW1vIG5vdGljZSAqLwogICAgICAgIC5kZW1vLW5vdGljZSB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6ICNmZmYzY2Q7CiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNmZmVhYTc7CiAgICAgICAgICAgIGNvbG9yOiAjODU2NDA0OwogICAgICAgICAgICBwYWRkaW5nOiAxMHB4OwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7CiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDE1cHg7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMC44NXJlbTsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICAgICAgZ2FwOiA4cHg7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC8qIFNjcm9sbGJhciBzdHlsaW5nICovCiAgICAgICAgOjotd2Via2l0LXNjcm9sbGJhciB7CiAgICAgICAgICAgIHdpZHRoOiA2cHg7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIDo6LXdlYmtpdC1zY3JvbGxiYXItdHJhY2sgewogICAgICAgICAgICBiYWNrZ3JvdW5kOiAjZjFmMWYxOwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiAxMHB4OwogICAgICAgIH0KICAgICAgICAKICAgICAgICA6Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iIHsKICAgICAgICAgICAgYmFja2dyb3VuZDogI2MyZDFmZjsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTBweDsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgOjotd2Via2l0LXNjcm9sbGJhci10aHVtYjpob3ZlciB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6ICMyNmQwY2U7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIEBtZWRpYSAobWF4LXdpZHRoOiA1MDBweCkgewogICAgICAgICAgICAuYWN0aW9uLWJ0bnMgewogICAgICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICAgICAgICAgICAgICAgIGdhcDogOHB4OwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAudGFicyB7CiAgICAgICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogcm93OwogICAgICAgICAgICAgICAgZmxleC13cmFwOiB3cmFwOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAudGFiIHsKICAgICAgICAgICAgICAgIG1pbi13aWR0aDogMjAlOwogICAgICAgICAgICAgICAgcGFkZGluZzogOHB4IDNweDsKICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMC43NXJlbTsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgLmNvbnRhaW5lciB7CiAgICAgICAgICAgICAgICBtYXgtaGVpZ2h0OiA5OHZoOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAucHJlZml4LWlucHV0LXJvdyB7CiAgICAgICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogICAgICAgICAgICAgICAgYWxpZ24taXRlbXM6IHN0cmV0Y2g7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC5yZW1vdmUtcHJlZml4LWJ0biB7CiAgICAgICAgICAgICAgICBhbGlnbi1zZWxmOiBmbGV4LWVuZDsKICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgICAgICAgICAgaGVpZ2h0OiAyNXB4OwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAubGljZW5zZS1iYWRnZSB7CiAgICAgICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICAgICAgICAgICAgICB0b3A6IDA7CiAgICAgICAgICAgICAgICBsZWZ0OiAwOwogICAgICAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogICAgICAgICAgICAgICAgbWFyZ2luLXRvcDogNXB4OwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgPC9zdHlsZT4KPC9oZWFkPgo8Ym9keT4KICAgIDxkaXYgY2xhc3M9ImNvbnRhaW5lciIgaWQ9Im1haW5Db250YWluZXIiPgogICAgICAgIDxkaXYgY2xhc3M9ImhlYWRlciI+CiAgICAgICAgICAgIDxoMT48aSBjbGFzcz0iZmFzIGZhLWNhbWVyYS1yZXRybyI+PC9pPiBQaG90byBSZW5hbWluZyBUb29sPC9oMT4KICAgICAgICAgICAgPHA+T25lLWNsaWNrIGRvd25sb2FkIGZvciBhbGwgSlBHczwvcD4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iZmlsZS1jb3VudCIgaWQ9ImZpbGVDb3VudCI+MDwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJsaWNlbnNlLWJhZGdlIiBpZD0ibGljZW5zZUJhZGdlIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPkxJQ0VOU0VEPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgICAgCiAgICAgICAgPGRpdiBjbGFzcz0idGFicyI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InRhYiBhY3RpdmUiIGRhdGEtdGFiPSJyYW5nZSI+UmFuZ2U8L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0idGFiIiBkYXRhLXRhYj0icGF0dGVybiI+UGF0dGVybjwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJ0YWIiIGRhdGEtdGFiPSJtdWx0aXBsZSI+TXVsdGlwbGU8L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0idGFiIiBkYXRhLXRhYj0iY3VzdG9tIj5DdXN0b208L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0idGFiIiBkYXRhLXRhYj0ibnVtYmVycyI+TnVtYmVyczwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJ0YWIiIGRhdGEtdGFiPSJsaWNlbnNlIj5MaWNlbnNlPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgICAgCiAgICAgICAgPGRpdiBjbGFzcz0iY29udGVudCI+CiAgICAgICAgICAgIAogICAgICAgICAgICA8ZGl2IGNsYXNzPSJkZW1vLW5vdGljZSIgaWQ9ImRlbW9Ob3RpY2UiPgogICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS1pbmZvLWNpcmNsZSI+PC9pPgogICAgICAgICAgICAgICAgPGRpdj4KICAgICAgICAgICAgICAgICAgICA8c3Ryb25nPkRFTU8gTU9ERTo8L3N0cm9uZz4gWW91IGNhbiB0ZXN0IHRoZSB0b29sIHdpdGggdXAgdG8gNSBwaG90b3MuIAogICAgICAgICAgICAgICAgICAgIEZvciBmdWxsIGZlYXR1cmVzLCBwbGVhc2UgYWN0aXZhdGUgeW91ciBsaWNlbnNlLgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAKICAgICAgICAgICAgCiAgICAgICAgICAgIDxkaXYgY2xhc3M9InRhYi1jb250ZW50IGFjdGl2ZSIgaWQ9InJhbmdlVGFiIj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InNlY3Rpb24iPgogICAgICAgICAgICAgICAgICAgIDxoMj48aSBjbGFzcz0iZmFzIGZhLXNsaWRlcnMtaCI+PC9pPiBSYW5nZSBPcHRpb25zPC9oMj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0icHJlZml4Ij5QcmVmaXggKGUuZy4sIFMxLCBTMTgpPC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJwcmVmaXgiIHBsYWNlaG9sZGVyPSJFbnRlciBwcmVmaXgiIHZhbHVlPSJTMSI+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9InN0YXJ0UmFuZ2UiPk51bWJlciBSYW5nZTwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InJhbmdlLWlucHV0cyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0ibnVtYmVyIiBpZD0ic3RhcnRSYW5nZSIgcGxhY2Vob2xkZXI9IlN0YXJ0IiB2YWx1ZT0iMSIgbWluPSIxIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJudW1iZXIiIGlkPSJlbmRSYW5nZSIgcGxhY2Vob2xkZXI9IkVuZCIgdmFsdWU9IjEwIiBtaW49IjEiPgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgCiAgICAgICAgICAgIAogICAgICAgICAgICA8ZGl2IGNsYXNzPSJ0YWItY29udGVudCIgaWQ9InBhdHRlcm5UYWIiPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2VjdGlvbiI+CiAgICAgICAgICAgICAgICAgICAgPGgyPjxpIGNsYXNzPSJmYXMgZmEtc2hhcGVzIj48L2k+IFBhdHRlcm4gT3B0aW9uczwvaDI+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9InBhdHRlcm5QcmVmaXgiPlByZWZpeCAoZS5nLiwgUzUpPC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJwYXR0ZXJuUHJlZml4IiBwbGFjZWhvbGRlcj0iRW50ZXIgcHJlZml4IiB2YWx1ZT0iUzUiPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPSJsZXR0ZXJzIj5MZXR0ZXJzIChlLmcuLCBhLCBiLCBjKTwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0ibGV0dGVycyIgcGxhY2Vob2xkZXI9IkNvbW1hIHNlcGFyYXRlZCBsZXR0ZXJzIiB2YWx1ZT0iYSxiLGMsZCxlLGYsZyxoLGksaixrLGwsbSxuLG8scCxxLHIscyx0LHUsdix3LHgseSx6Ij4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0icGFpclNpemUiPkdyb3VwIFNpemUgKHBob3RvcyBwZXIgbGV0dGVyKTwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJudW1iZXIiIGlkPSJwYWlyU2l6ZSIgcGxhY2Vob2xkZXI9Ikdyb3VwIHNpemUiIHZhbHVlPSIyIiBtaW49IjEiPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjdXN0b20tbm90ZSI+SGFyIGxldHRlciBrZSBsaXllIGtpdG5lIHBob3Rvcz8gRXhhbXBsZTogMiA9IFM1X2FfMSwgUzVfYV8yPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9InBhdHRlcm5TdGFydCI+TnVtYmVyIFJhbmdlPC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icmFuZ2UtaW5wdXRzIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJudW1iZXIiIGlkPSJwYXR0ZXJuU3RhcnQiIHBsYWNlaG9sZGVyPSJTdGFydCIgdmFsdWU9IjEiIG1pbj0iMSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0ibnVtYmVyIiBpZD0icGF0dGVybkVuZCIgcGxhY2Vob2xkZXI9IkVuZCIgdmFsdWU9IjIiIG1pbj0iMSI+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjdXN0b20tbm90ZSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBOdW1iZXIgcmFuZ2UgZGV0ZXJtaW5lcyBudW1iZXJpbmcgd2l0aGluIGVhY2ggZ3JvdXAKICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIAogICAgICAgICAgICAKICAgICAgICAgICAgPGRpdiBjbGFzcz0idGFiLWNvbnRlbnQiIGlkPSJtdWx0aXBsZVRhYiI+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzZWN0aW9uIj4KICAgICAgICAgICAgICAgICAgICA8aDI+PGkgY2xhc3M9ImZhcyBmYS1sYXllci1ncm91cCI+PC9pPiBNdWx0aXBsZSBQcmVmaXhlcyB3aXRoIExldHRlcnM8L2gyPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImF1dG8tYWRqdXN0LW5vdGUiPgogICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLW1hZ2ljIj48L2k+IEdyb3VwIHNpemUgYXV0b21hdGljYWxseSBhZGp1c3RzIGJhc2VkIG9uIHVwbG9hZGVkIHBob3RvcyBjb3VudAogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+UHJlZml4ZXMgKGUuZy4sIFM1LCBTMTUsIFMxNik8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJwcmVmaXgtaW5wdXRzIiBpZD0icHJlZml4SW5wdXRzIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InByZWZpeC1pbnB1dC1yb3ciPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0ibXVsdGlwbGUtcHJlZml4IiBwbGFjZWhvbGRlcj0iRW50ZXIgcHJlZml4IChlLmcuLCBTNSkiIHZhbHVlPSJTNSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0icmVtb3ZlLXByZWZpeC1idG4iIHN0eWxlPSJkaXNwbGF5OiBub25lOyI+PGkgY2xhc3M9ImZhcyBmYS10aW1lcyI+PC9pPjwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJwcmVmaXgtaW5wdXQtcm93Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgY2xhc3M9Im11bHRpcGxlLXByZWZpeCIgcGxhY2Vob2xkZXI9IkVudGVyIHByZWZpeCAoZS5nLiwgUzE1KSIgdmFsdWU9IlMxNSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0icmVtb3ZlLXByZWZpeC1idG4iPjxpIGNsYXNzPSJmYXMgZmEtdGltZXMiPjwvaT48L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYWRkLXByZWZpeC1idG4iIGlkPSJhZGRQcmVmaXhCdG4iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS1wbHVzIj48L2k+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPSJtdWx0aXBsZUxldHRlcnMiPkxldHRlcnMgKGUuZy4sIGEsIGIsIGMgdG8geik8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9Im11bHRpcGxlTGV0dGVycyIgcGxhY2Vob2xkZXI9IkNvbW1hIHNlcGFyYXRlZCBsZXR0ZXJzIiB2YWx1ZT0iYSxiLGMiPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPSJtdWx0aXBsZUdyb3VwU2l6ZSI+UGhvdG9zIHBlciBMZXR0ZXIgPHNwYW4gaWQ9ImF1dG9TaXplTGFiZWwiPihBdXRvOiAxKTwvc3Bhbj48L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0ibnVtYmVyIiBpZD0ibXVsdGlwbGVHcm91cFNpemUiIHBsYWNlaG9sZGVyPSJHcm91cCBzaXplIiB2YWx1ZT0iMSIgbWluPSIxIiByZWFkb25seSBzdHlsZT0iYmFja2dyb3VuZC1jb2xvcjogI2U2ZjBmZjsiPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjdXN0b20tbm90ZSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBdXRvLWFkanVzdGVkIGJhc2VkIG9uIHVwbG9hZGVkIHBob3Rvcy4gRXhhbXBsZTogNCBwaG90b3MgPSA0IHBlciBsZXR0ZXIKICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9Im11bHRpcGxlU3RhcnQiPk51bWJlciBSYW5nZSAoU3RhcnQgLSBFbmQpPC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icmFuZ2UtaW5wdXRzIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJudW1iZXIiIGlkPSJtdWx0aXBsZVN0YXJ0IiBwbGFjZWhvbGRlcj0iU3RhcnQiIHZhbHVlPSIxIiBtaW49IjEiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9Im51bWJlciIgaWQ9Im11bHRpcGxlRW5kIiBwbGFjZWhvbGRlcj0iRW5kIiB2YWx1ZT0iMSIgbWluPSIxIj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImN1c3RvbS1ub3RlIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhhciBsZXR0ZXIga2UgYW5kYXIgbnVtYmVyaW5nLiBFeGFtcGxlOiAxLTQgPSBfMSwgXzIsIF8zLCBfNAogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgCiAgICAgICAgICAgIAogICAgICAgICAgICA8ZGl2IGNsYXNzPSJ0YWItY29udGVudCIgaWQ9ImN1c3RvbVRhYiI+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzZWN0aW9uIj4KICAgICAgICAgICAgICAgICAgICA8aDI+PGkgY2xhc3M9ImZhcyBmYS1lZGl0Ij48L2k+IEN1c3RvbSBOYW1lczwvaDI+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9ImN1c3RvbU5hbWVzIj5FbnRlciBuYW1lcyAob25lIHBlciBsaW5lKTwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZXh0YXJlYSBpZD0iY3VzdG9tTmFtZXMiIHBsYWNlaG9sZGVyPSJFeGFtcGxlOgpTMV8xClMxMV8xClMxNl8yClM1X2FfMyI+PC90ZXh0YXJlYT4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY3VzdG9tLW5vdGUiPkVhY2ggbmFtZSBjcmVhdGVzIGEgY29weSBvZiB0aGUgZmlyc3QgdXBsb2FkZWQgcGhvdG88L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgCiAgICAgICAgICAgIAogICAgICAgICAgICA8ZGl2IGNsYXNzPSJ0YWItY29udGVudCIgaWQ9Im51bWJlcnNUYWIiPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2VjdGlvbiI+CiAgICAgICAgICAgICAgICAgICAgPGgyPjxpIGNsYXNzPSJmYXMgZmEtc29ydC1udW1lcmljLWRvd24iPjwvaT4gTnVtYmVyIFNlcXVlbmNlPC9oMj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0ic3RhcnROdW1iZXIiPlN0YXJ0IE51bWJlcjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJudW1iZXIiIGlkPSJzdGFydE51bWJlciIgcGxhY2Vob2xkZXI9IlN0YXJ0IGZyb20iIHZhbHVlPSIxIiBtaW49IjEiPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPSJzdGVwVmFsdWUiPkluY3JlbWVudCBCeTwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJudW1iZXIiIGlkPSJzdGVwVmFsdWUiIHBsYWNlaG9sZGVyPSJTdGVwIHZhbHVlIiB2YWx1ZT0iMSIgbWluPSIxIj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjdXN0b20tbm90ZSI+CiAgICAgICAgICAgICAgICAgICAgICAgIEZpbGVzIHdpbGwgYmUgcmVuYW1lZCBhczogMSwgMiwgMywgLi4uICh3aXRob3V0IGFueSBwcmVmaXhlcykKICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgCiAgICAgICAgICAgIAogICAgICAgICAgICA8ZGl2IGNsYXNzPSJ0YWItY29udGVudCIgaWQ9ImxpY2Vuc2VUYWIiPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2VjdGlvbiI+CiAgICAgICAgICAgICAgICAgICAgPGgyPjxpIGNsYXNzPSJmYXMgZmEta2V5Ij48L2k+IExpY2Vuc2UgQWN0aXZhdGlvbjwvaDI+CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD5Zb3VyIERldmljZSBJRDwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImRldmljZS1pZC1kaXNwbGF5IiBpZD0iZGV2aWNlSWREaXNwbGF5Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdlbmVyYXRpbmcgRGV2aWNlIElELi4uCiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjdXN0b20tbm90ZSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJjb3B5LWJ0biIgaWQ9ImNvcHlEZXZpY2VJZEJ0biI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS1jb3B5Ij48L2k+IENvcHkgRGV2aWNlIElECiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNlbmQgdGhpcyBEZXZpY2UgSUQgdG8gZ2V0IGEgbGljZW5zZSBrZXkKICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9ImxpY2Vuc2VLZXlJbnB1dCI+TGljZW5zZSBLZXkgKGZyb20gTGljZW5zZSBHZW5lcmF0b3IpPC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJsaWNlbnNlS2V5SW5wdXQiIHBsYWNlaG9sZGVyPSJQYXN0ZSBsaWNlbnNlIGtleSBoZXJlIiBhdXRvY29tcGxldGU9Im9mZiI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImN1c3RvbS1ub3RlIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBhc3RlIHRoZSBsaWNlbnNlIGtleSByZWNlaXZlZCBmcm9tIHRoZSB0b29sIHByb3ZpZGVyCiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biByZW5hbWUiIGlkPSJhY3RpdmF0ZUxpY2Vuc2VCdG4iPgogICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLWNoZWNrIj48L2k+IEFjdGl2YXRlIExpY2Vuc2UKICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIiBzdHlsZT0ibWFyZ2luLXRvcDogMjBweDsgcGFkZGluZzogMTVweDsgYmFja2dyb3VuZDogI2YwZjRmZjsgYm9yZGVyLXJhZGl1czogMTBweDsiPgogICAgICAgICAgICAgICAgICAgICAgICA8aDMgc3R5bGU9ImNvbG9yOiAjMWEyOTgwOyBtYXJnaW4tYm90dG9tOiAxMHB4OyI+TGljZW5zZSBTdGF0dXM8L2gzPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47IG1hcmdpbi1ib3R0b206IDhweDsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9ImZvbnQtd2VpZ2h0OiA2MDA7Ij5TdGF0dXM6PC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gaWQ9ImxpY2Vuc2VTdGF0dXMiIHN0eWxlPSJjb2xvcjogI2ZmNDc1NzsiPklOQUNUSVZFPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOyBtYXJnaW4tYm90dG9tOiA4cHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPSJmb250LXdlaWdodDogNjAwOyI+RXhwaXJ5Ojwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGlkPSJsaWNlbnNlRXhwaXJ5Ij4tLTwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImRpc3BsYXk6IGZsZXg7IGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsgbWFyZ2luLWJvdHRvbTogOHB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT0iZm9udC13ZWlnaHQ6IDYwMDsiPlJlbWFpbmluZzo8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBpZD0ibGljZW5zZUNvdW50ZG93biI+LS08L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJtYXJnaW4tdG9wOiAxNXB4OyBwYWRkaW5nOiAxMHB4OyBiYWNrZ3JvdW5kOiB3aGl0ZTsgYm9yZGVyLXJhZGl1czogNXB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biByZXNldCIgaWQ9ImNsZWFyTGljZW5zZUJ0biIgc3R5bGU9IndpZHRoOiAxMDAlOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS10cmFzaC1hbHQiPjwvaT4gQ2xlYXIgTGljZW5zZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAKICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2VjdGlvbiI+CiAgICAgICAgICAgICAgICA8aDI+PGkgY2xhc3M9ImZhcyBmYS1pbWFnZXMiPjwvaT4gVXBsb2FkIFBob3RvczwvaDI+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmaWxlLWFyZWEiIGlkPSJkcm9wWm9uZSI+CiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS1jbG91ZC11cGxvYWQtYWx0Ij48L2k+CiAgICAgICAgICAgICAgICAgICAgPHA+RHJhZyAmIERyb3AgcGhvdG9zIGhlcmUgb3I8L3A+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iYnRuIj5DaG9vc2UgRmlsZXM8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iZmlsZSIgaWQ9ImZpbGVJbnB1dCIgbXVsdGlwbGUgYWNjZXB0PSJpbWFnZS8qIiBjbGFzcz0iaGlkZGVuIj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY3VzdG9tLW5vdGUiIGlkPSJmaWxlTGltaXROb3RlIj4KICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLWluZm8tY2lyY2xlIj48L2k+IERlbW8gbGltaXQ6IE1heGltdW0gNSBwaG90b3MgYWxsb3dlZAogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAKICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2VjdGlvbiI+CiAgICAgICAgICAgICAgICA8aDI+PGkgY2xhc3M9ImZhcyBmYS1saXN0Ij48L2k+IE5ldyBGaWxlIE5hbWVzPC9oMj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im5hbWUtbGlzdCIgaWQ9Im5hbWVMaXN0Ij4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJuYW1lLWl0ZW0iPk5vIGZpbGVzIHNlbGVjdGVkPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIAogICAgICAgICAgICA8ZGl2IGNsYXNzPSJwcm9ncmVzcy1jb250YWluZXIgaGlkZGVuIiBpZD0icHJvZ3Jlc3NDb250YWluZXIiPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icHJvZ3Jlc3MtYmFyIiBpZD0icHJvZ3Jlc3NCYXIiPjwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImFjdGlvbi1idG5zIj4KICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biByZW5hbWUiIGlkPSJyZW5hbWVCdG4iPgogICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtc3luYy1hbHQiPjwvaT4gUmVuYW1lCiAgICAgICAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBkb3dubG9hZCIgaWQ9ImRvd25sb2FkQnRuIiBkaXNhYmxlZD4KICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLWRvd25sb2FkIj48L2k+IERvd25sb2FkIEFsbAogICAgICAgICAgICAgICAgPC9idXR0b24+CiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gcmVzZXQiIGlkPSJyZXNldEJ0biI+CiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS1yZWRvIj48L2k+IFJlc2V0CiAgICAgICAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIAogICAgICAgICAgICA8ZGl2IGNsYXNzPSJzdGF0dXMtYmFyIiBpZD0ic3RhdHVzQmFyIj4KICAgICAgICAgICAgICAgIFJlYWR5IHRvIHJlbmFtZSBwaG90b3MuIFNlbGVjdCBmaWxlcyBhbmQgb3B0aW9ucy4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KICAgIAogICAgPHNjcmlwdD4KICAgICAgICAvLyA9PT09PT09PT09PT09PT0gTElDRU5TRSBTWVNURU0gPT09PT09PT09PT09PT09CiAgICAgICAgY29uc3QgTElDRU5TRV9TRUNSRVQgPSAiUEhPVE9fUkVOQU1FX1NFQ1JFVF8yMDI0X1YyIjsKICAgICAgICBsZXQgbGljZW5zZUNoZWNrSW50ZXJ2YWwgPSBudWxsOwogICAgICAgIGxldCBjdXJyZW50RGV2aWNlSWQgPSAnJzsKICAgICAgICBsZXQgaXNMaWNlbnNlVmFsaWQgPSBmYWxzZTsKICAgICAgICBsZXQgbGljZW5zZUV4cGlyeVRpbWUgPSBudWxsOwoKICAgICAgICAvLyBHZW5lcmF0ZSBEZXZpY2UgSUQgKEZpbmdlcnByaW50KQogICAgICAgIGZ1bmN0aW9uIGdlbmVyYXRlRGV2aWNlSWQoKSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBjb25zdCBjb21wb25lbnRzID0gWwogICAgICAgICAgICAgICAgICAgIG5hdmlnYXRvci51c2VyQWdlbnQsCiAgICAgICAgICAgICAgICAgICAgbmF2aWdhdG9yLnBsYXRmb3JtLAogICAgICAgICAgICAgICAgICAgIHNjcmVlbi53aWR0aCArICd4JyArIHNjcmVlbi5oZWlnaHQgKyAneCcgKyBzY3JlZW4uY29sb3JEZXB0aCwKICAgICAgICAgICAgICAgICAgICBuZXcgRGF0ZSgpLmdldFRpbWV6b25lT2Zmc2V0KCksCiAgICAgICAgICAgICAgICAgICAgbmF2aWdhdG9yLmxhbmd1YWdlLAogICAgICAgICAgICAgICAgICAgIG5hdmlnYXRvci5oYXJkd2FyZUNvbmN1cnJlbmN5IHx8ICd1bmtub3duJywKICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0b3IuZGV2aWNlTWVtb3J5IHx8ICd1bmtub3duJywKICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMgfHwgJ3Vua25vd24nCiAgICAgICAgICAgICAgICBdLmpvaW4oJ3wnKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8gU2ltcGxlIGhhc2ggZnVuY3Rpb24KICAgICAgICAgICAgICAgIGxldCBoYXNoID0gMDsKICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29tcG9uZW50cy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoYXIgPSBjb21wb25lbnRzLmNoYXJDb2RlQXQoaSk7CiAgICAgICAgICAgICAgICAgICAgaGFzaCA9ICgoaGFzaCA8PCA1KSAtIGhhc2gpICsgY2hhcjsKICAgICAgICAgICAgICAgICAgICBoYXNoID0gaGFzaCAmIGhhc2g7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vIEFkZCBzb21lIHJhbmRvbW5lc3MgYW5kIG9iZnVzY2F0aW9uCiAgICAgICAgICAgICAgICBjb25zdCB0aW1lc3RhbXAgPSBEYXRlLm5vdygpLnRvU3RyaW5nKDM2KTsKICAgICAgICAgICAgICAgIGNvbnN0IHJhbmRvbSA9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyLCAxMCk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIHJldHVybiBidG9hKGhhc2ggKyAnfCcgKyB0aW1lc3RhbXAgKyAnfCcgKyByYW5kb20gKyAnfCcgKyBjb21wb25lbnRzLmxlbmd0aCkKICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvPS9nLCAnJykKICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXCsvZywgJy0nKQogICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cLy9nLCAnXycpCiAgICAgICAgICAgICAgICAgICAgLnN1YnN0cmluZygwLCAyNCk7CiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gJ0VSUl8nICsgTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIsIDEyKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8gRW5jb2RlIGxpY2Vuc2UgZGF0YQogICAgICAgIGZ1bmN0aW9uIGVuY29kZUxpY2Vuc2VEYXRhKGRldmljZUlkLCBleHBpcnlUaW1lc3RhbXApIHsKICAgICAgICAgICAgY29uc3QgZGF0YSA9IHsKICAgICAgICAgICAgICAgIGQ6IGRldmljZUlkLAogICAgICAgICAgICAgICAgZTogZXhwaXJ5VGltZXN0YW1wLAogICAgICAgICAgICAgICAgdjogMiwKICAgICAgICAgICAgICAgIHQ6IERhdGUubm93KCksCiAgICAgICAgICAgICAgICBjOiBMSUNFTlNFX1NFQ1JFVC5sZW5ndGgKICAgICAgICAgICAgfTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGNvbnN0IGpzb25TdHJpbmcgPSBKU09OLnN0cmluZ2lmeShkYXRhKTsKICAgICAgICAgICAgY29uc3QgZW5jb2RlZCA9IGJ0b2EoanNvblN0cmluZyk7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBYT1Igb2JmdXNjYXRpb24gd2l0aCByb3RhdGluZyBrZXkKICAgICAgICAgICAgbGV0IG9iZnVzY2F0ZWQgPSAnJzsKICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbmNvZGVkLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICBjb25zdCBrZXlDaGFyID0gTElDRU5TRV9TRUNSRVQuY2hhckNvZGVBdChpICUgTElDRU5TRV9TRUNSRVQubGVuZ3RoKTsKICAgICAgICAgICAgICAgIGNvbnN0IGVuY29kZWRDaGFyID0gZW5jb2RlZC5jaGFyQ29kZUF0KGkpOwogICAgICAgICAgICAgICAgb2JmdXNjYXRlZCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGVuY29kZWRDaGFyIF4ga2V5Q2hhcik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIHJldHVybiBidG9hKG9iZnVzY2F0ZWQpOwogICAgICAgIH0KCiAgICAgICAgLy8gRGVjb2RlIGxpY2Vuc2Uga2V5CiAgICAgICAgZnVuY3Rpb24gZGVjb2RlTGljZW5zZUtleShsaWNlbnNlS2V5KSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAvLyBGaXJzdCBkZWNvZGUgZnJvbSBCYXNlNjQKICAgICAgICAgICAgICAgIGNvbnN0IG9iZnVzY2F0ZWQgPSBhdG9iKGxpY2Vuc2VLZXkpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyBSZXZlcnNlIFhPUiBvYmZ1c2NhdGlvbgogICAgICAgICAgICAgICAgbGV0IGRlY29kZWQgPSAnJzsKICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb2JmdXNjYXRlZC5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IGtleUNoYXIgPSBMSUNFTlNFX1NFQ1JFVC5jaGFyQ29kZUF0KGkgJSBMSUNFTlNFX1NFQ1JFVC5sZW5ndGgpOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IG9iZnVzY2F0ZWRDaGFyID0gb2JmdXNjYXRlZC5jaGFyQ29kZUF0KGkpOwogICAgICAgICAgICAgICAgICAgIGRlY29kZWQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShvYmZ1c2NhdGVkQ2hhciBeIGtleUNoYXIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyBEZWNvZGUgdGhlIGlubmVyIEJhc2U2NAogICAgICAgICAgICAgICAgY29uc3QganNvblN0cmluZyA9IGF0b2IoZGVjb2RlZCk7CiAgICAgICAgICAgICAgICBjb25zdCBsaWNlbnNlRGF0YSA9IEpTT04ucGFyc2UoanNvblN0cmluZyk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vIFZlcmlmeSB2ZXJzaW9uCiAgICAgICAgICAgICAgICBpZiAobGljZW5zZURhdGEudiAhPT0gMikgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICByZXR1cm4gbGljZW5zZURhdGE7CiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8gVmFsaWRhdGUgbGljZW5zZQogICAgICAgIGZ1bmN0aW9uIHZhbGlkYXRlTGljZW5zZShsaWNlbnNlRGF0YSwgY3VycmVudERldmljZUlkKSB7CiAgICAgICAgICAgIC8vIENoZWNrIGlmIGxpY2Vuc2UgZGF0YSBpcyB2YWxpZAogICAgICAgICAgICBpZiAoIWxpY2Vuc2VEYXRhIHx8ICFsaWNlbnNlRGF0YS5kIHx8ICFsaWNlbnNlRGF0YS5lKSB7CiAgICAgICAgICAgICAgICByZXR1cm4geyB2YWxpZDogZmFsc2UsIHJlYXNvbjogIkludmFsaWQgbGljZW5zZSBmb3JtYXQiIH07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIENoZWNrIGRldmljZSBJRCBtYXRjaAogICAgICAgICAgICBpZiAobGljZW5zZURhdGEuZCAhPT0gY3VycmVudERldmljZUlkKSB7CiAgICAgICAgICAgICAgICByZXR1cm4geyB2YWxpZDogZmFsc2UsIHJlYXNvbjogIkxpY2Vuc2Ugbm90IHZhbGlkIGZvciB0aGlzIGRldmljZSIgfTsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgLy8gQ2hlY2sgZXhwaXJ5CiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRUaW1lID0gRGF0ZS5ub3coKTsKICAgICAgICAgICAgaWYgKGN1cnJlbnRUaW1lID4gbGljZW5zZURhdGEuZSkgewogICAgICAgICAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlLCByZWFzb246ICJMaWNlbnNlIGV4cGlyZWQiIH07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIHJldHVybiB7IAogICAgICAgICAgICAgICAgdmFsaWQ6IHRydWUsIAogICAgICAgICAgICAgICAgZXhwaXJ5OiBsaWNlbnNlRGF0YS5lLAogICAgICAgICAgICAgICAgcmVtYWluaW5nOiBsaWNlbnNlRGF0YS5lIC0gY3VycmVudFRpbWUKICAgICAgICAgICAgfTsKICAgICAgICB9CgogICAgICAgIC8vIEZvcm1hdCByZW1haW5pbmcgdGltZQogICAgICAgIGZ1bmN0aW9uIGZvcm1hdFJlbWFpbmluZ1RpbWUobXMpIHsKICAgICAgICAgICAgaWYgKG1zIDw9IDApIHJldHVybiAiRVhQSVJFRCI7CiAgICAgICAgICAgIAogICAgICAgICAgICBjb25zdCBkYXlzID0gTWF0aC5mbG9vcihtcyAvICgxMDAwICogNjAgKiA2MCAqIDI0KSk7CiAgICAgICAgICAgIGNvbnN0IGhvdXJzID0gTWF0aC5mbG9vcigobXMgJSAoMTAwMCAqIDYwICogNjAgKiAyNCkpIC8gKDEwMDAgKiA2MCAqIDYwKSk7CiAgICAgICAgICAgIGNvbnN0IG1pbnV0ZXMgPSBNYXRoLmZsb29yKChtcyAlICgxMDAwICogNjAgKiA2MCkpIC8gKDEwMDAgKiA2MCkpOwogICAgICAgICAgICBjb25zdCBzZWNvbmRzID0gTWF0aC5mbG9vcigobXMgJSAoMTAwMCAqIDYwKSkgLyAxMDAwKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIChkYXlzID4gMCkgewogICAgICAgICAgICAgICAgcmV0dXJuIGAke2RheXN9ZCAke2hvdXJzfWggJHttaW51dGVzfW1gOwogICAgICAgICAgICB9IGVsc2UgaWYgKGhvdXJzID4gMCkgewogICAgICAgICAgICAgICAgcmV0dXJuIGAke2hvdXJzfWggJHttaW51dGVzfW0gJHtzZWNvbmRzfXNgOwogICAgICAgICAgICB9IGVsc2UgaWYgKG1pbnV0ZXMgPiAwKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gYCR7bWludXRlc31tICR7c2Vjb25kc31zYDsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiBgJHtzZWNvbmRzfXNgOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyBVcGRhdGUgbGljZW5zZSBVSQogICAgICAgIGZ1bmN0aW9uIHVwZGF0ZUxpY2Vuc2VVSSh2YWxpZCwgZXhwaXJ5VGltZSA9IG51bGwpIHsKICAgICAgICAgICAgY29uc3Qgc3RhdHVzRWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsaWNlbnNlU3RhdHVzJyk7CiAgICAgICAgICAgIGNvbnN0IGV4cGlyeUVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGljZW5zZUV4cGlyeScpOwogICAgICAgICAgICBjb25zdCBjb3VudGRvd25FbGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xpY2Vuc2VDb3VudGRvd24nKTsKICAgICAgICAgICAgY29uc3QgbGljZW5zZUJhZGdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xpY2Vuc2VCYWRnZScpOwogICAgICAgICAgICBjb25zdCBkZW1vTm90aWNlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RlbW9Ob3RpY2UnKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIENsZWFyIGV4aXN0aW5nIGludGVydmFsCiAgICAgICAgICAgIGlmIChsaWNlbnNlQ2hlY2tJbnRlcnZhbCkgewogICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChsaWNlbnNlQ2hlY2tJbnRlcnZhbCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGlmICh2YWxpZCAmJiBleHBpcnlUaW1lKSB7CiAgICAgICAgICAgICAgICBpc0xpY2Vuc2VWYWxpZCA9IHRydWU7CiAgICAgICAgICAgICAgICBsaWNlbnNlRXhwaXJ5VGltZSA9IGV4cGlyeVRpbWU7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIHN0YXR1c0VsZW0udGV4dENvbnRlbnQgPSAiQUNUSVZFIjsKICAgICAgICAgICAgICAgIHN0YXR1c0VsZW0uY2xhc3NOYW1lID0gImxpY2Vuc2Utc3RhdHVzLWFjdGl2ZSI7CiAgICAgICAgICAgICAgICBsaWNlbnNlQmFkZ2Uuc3R5bGUuZGlzcGxheSA9ICdmbGV4JzsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgaWYgKGRlbW9Ob3RpY2UpIGRlbW9Ob3RpY2Uuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgaWYgKGV4cGlyeVRpbWUpIHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBleHBpcnlEYXRlID0gbmV3IERhdGUoZXhwaXJ5VGltZSk7CiAgICAgICAgICAgICAgICAgICAgZXhwaXJ5RWxlbS50ZXh0Q29udGVudCA9IGV4cGlyeURhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKCkgKyAnICcgKyBleHBpcnlEYXRlLnRvTG9jYWxlVGltZVN0cmluZygpOwogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIC8vIFN0YXJ0IGNvdW50ZG93biB1cGRhdGUKICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiB1cGRhdGVDb3VudGRvd24oKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlbWFpbmluZyA9IGV4cGlyeVRpbWUgLSBEYXRlLm5vdygpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVtYWluaW5nIDw9IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50ZG93bkVsZW0udGV4dENvbnRlbnQgPSAiRVhQSVJFRCI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXNFbGVtLnRleHRDb250ZW50ID0gIkVYUElSRUQiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzRWxlbS5jbGFzc05hbWUgPSAibGljZW5zZS1zdGF0dXMtZXhwaXJlZCI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaWNlbnNlQmFkZ2Uuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzTGljZW5zZVZhbGlkID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZW1vTm90aWNlKSBkZW1vTm90aWNlLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVUb29sQWNjZXNzKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50ZG93bkVsZW0udGV4dENvbnRlbnQgPSBmb3JtYXRSZW1haW5pbmdUaW1lKHJlbWFpbmluZyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIHVwZGF0ZUNvdW50ZG93bigpOwogICAgICAgICAgICAgICAgICAgIGxpY2Vuc2VDaGVja0ludGVydmFsID0gc2V0SW50ZXJ2YWwodXBkYXRlQ291bnRkb3duLCAxMDAwKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGlzTGljZW5zZVZhbGlkID0gZmFsc2U7CiAgICAgICAgICAgICAgICBsaWNlbnNlRXhwaXJ5VGltZSA9IG51bGw7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIHN0YXR1c0VsZW0udGV4dENvbnRlbnQgPSAiSU5BQ1RJVkUiOwogICAgICAgICAgICAgICAgc3RhdHVzRWxlbS5jbGFzc05hbWUgPSAibGljZW5zZS1zdGF0dXMtaW52YWxpZCI7CiAgICAgICAgICAgICAgICBleHBpcnlFbGVtLnRleHRDb250ZW50ID0gIi0tIjsKICAgICAgICAgICAgICAgIGNvdW50ZG93bkVsZW0udGV4dENvbnRlbnQgPSAiLS0iOwogICAgICAgICAgICAgICAgbGljZW5zZUJhZGdlLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGlmIChkZW1vTm90aWNlKSBkZW1vTm90aWNlLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIHVwZGF0ZVRvb2xBY2Nlc3MoKTsKICAgICAgICB9CgogICAgICAgIC8vIFVwZGF0ZSB0b29sIGFjY2VzcyBiYXNlZCBvbiBsaWNlbnNlIHN0YXR1cwogICAgICAgIGZ1bmN0aW9uIHVwZGF0ZVRvb2xBY2Nlc3MoKSB7CiAgICAgICAgICAgIGNvbnN0IHRhYnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudGFiOm5vdChbZGF0YS10YWI9ImxpY2Vuc2UiXSknKTsKICAgICAgICAgICAgY29uc3QgZmlsZUFyZWEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZHJvcFpvbmUnKTsKICAgICAgICAgICAgY29uc3QgZmlsZUlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbGVJbnB1dCcpOwogICAgICAgICAgICBjb25zdCByZW5hbWVCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVuYW1lQnRuJyk7CiAgICAgICAgICAgIGNvbnN0IGRvd25sb2FkQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rvd25sb2FkQnRuJyk7CiAgICAgICAgICAgIGNvbnN0IGFkZFByZWZpeEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGRQcmVmaXhCdG4nKTsKICAgICAgICAgICAgY29uc3QgZmlsZUxpbWl0Tm90ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmaWxlTGltaXROb3RlJyk7CiAgICAgICAgICAgIAogICAgICAgICAgICBpZiAoaXNMaWNlbnNlVmFsaWQpIHsKICAgICAgICAgICAgICAgIC8vIExpY2Vuc2VkIG1vZGUgLSBmdWxsIGFjY2VzcwogICAgICAgICAgICAgICAgdGFicy5mb3JFYWNoKHRhYiA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGFiLmNsYXNzTGlzdC5yZW1vdmUoJ2Rpc2FibGVkJyk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgaWYgKGZpbGVBcmVhKSBmaWxlQXJlYS5jbGFzc0xpc3QucmVtb3ZlKCdkaXNhYmxlZCcpOwogICAgICAgICAgICAgICAgaWYgKGZpbGVJbnB1dCkgZmlsZUlucHV0LmRpc2FibGVkID0gZmFsc2U7CiAgICAgICAgICAgICAgICBpZiAoYWRkUHJlZml4QnRuKSBhZGRQcmVmaXhCdG4uY2xhc3NMaXN0LnJlbW92ZSgnZGlzYWJsZWQnKTsKICAgICAgICAgICAgICAgIGlmIChmaWxlTGltaXROb3RlKSBmaWxlTGltaXROb3RlLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAvLyBEZW1vIG1vZGUgLSBsaW1pdGVkIGFjY2VzcwogICAgICAgICAgICAgICAgdGFicy5mb3JFYWNoKHRhYiA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHRhYi5kYXRhc2V0LnRhYiAhPT0gJ2xpY2Vuc2UnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRhYi5jbGFzc0xpc3QuYWRkKCdkaXNhYmxlZCcpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBpZiAoZmlsZUFyZWEpIGZpbGVBcmVhLmNsYXNzTGlzdC5hZGQoJ2Rpc2FibGVkJyk7CiAgICAgICAgICAgICAgICBpZiAoZmlsZUlucHV0KSBmaWxlSW5wdXQuZGlzYWJsZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgaWYgKGFkZFByZWZpeEJ0bikgYWRkUHJlZml4QnRuLmNsYXNzTGlzdC5hZGQoJ2Rpc2FibGVkJyk7CiAgICAgICAgICAgICAgICBpZiAoZmlsZUxpbWl0Tm90ZSkgZmlsZUxpbWl0Tm90ZS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8gRW5hYmxlIG9ubHkgUmFuZ2UgdGFiIGZvciBkZW1vCiAgICAgICAgICAgICAgICBjb25zdCByYW5nZVRhYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50YWJbZGF0YS10YWI9InJhbmdlIl0nKTsKICAgICAgICAgICAgICAgIGlmIChyYW5nZVRhYikgewogICAgICAgICAgICAgICAgICAgIHJhbmdlVGFiLmNsYXNzTGlzdC5yZW1vdmUoJ2Rpc2FibGVkJyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vIENvcHkgRGV2aWNlIElEIHRvIGNsaXBib2FyZAogICAgICAgIGZ1bmN0aW9uIGNvcHlEZXZpY2VJZFRvQ2xpcGJvYXJkKCkgewogICAgICAgICAgICBjb25zdCBkZXZpY2VJZFRleHQgPSBjdXJyZW50RGV2aWNlSWQ7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBVc2UgbW9kZXJuIGNsaXBib2FyZCBBUEkgaWYgYXZhaWxhYmxlCiAgICAgICAgICAgIGlmIChuYXZpZ2F0b3IuY2xpcGJvYXJkICYmIG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KSB7CiAgICAgICAgICAgICAgICBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dChkZXZpY2VJZFRleHQpLnRoZW4oKCkgPT4gewogICAgICAgICAgICAgICAgICAgIHNob3dTdGF0dXNNZXNzYWdlKCdEZXZpY2UgSUQgY29waWVkIHRvIGNsaXBib2FyZCEnLCAnc3VjY2VzcycpOwogICAgICAgICAgICAgICAgfSkuY2F0Y2goZXJyID0+IHsKICAgICAgICAgICAgICAgICAgICBmYWxsYmFja0NvcHlNZXRob2QoZGV2aWNlSWRUZXh0KTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgZmFsbGJhY2tDb3B5TWV0aG9kKGRldmljZUlkVGV4dCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGZhbGxiYWNrQ29weU1ldGhvZCh0ZXh0KSB7CiAgICAgICAgICAgIGNvbnN0IHRleHRBcmVhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGV4dGFyZWEnKTsKICAgICAgICAgICAgdGV4dEFyZWEudmFsdWUgPSB0ZXh0OwogICAgICAgICAgICB0ZXh0QXJlYS5zdHlsZS5wb3NpdGlvbiA9ICdmaXhlZCc7CiAgICAgICAgICAgIHRleHRBcmVhLnN0eWxlLm9wYWNpdHkgPSAnMCc7CiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGV4dEFyZWEpOwogICAgICAgICAgICB0ZXh0QXJlYS5mb2N1cygpOwogICAgICAgICAgICB0ZXh0QXJlYS5zZWxlY3QoKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBjb25zdCBzdWNjZXNzZnVsID0gZG9jdW1lbnQuZXhlY0NvbW1hbmQoJ2NvcHknKTsKICAgICAgICAgICAgICAgIGlmIChzdWNjZXNzZnVsKSB7CiAgICAgICAgICAgICAgICAgICAgc2hvd1N0YXR1c01lc3NhZ2UoJ0RldmljZSBJRCBjb3BpZWQgdG8gY2xpcGJvYXJkIScsICdzdWNjZXNzJyk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHNob3dTdGF0dXNNZXNzYWdlKCdGYWlsZWQgdG8gY29weSBEZXZpY2UgSUQnLCAnZXJyb3InKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgICBzaG93U3RhdHVzTWVzc2FnZSgnRmFpbGVkIHRvIGNvcHkgRGV2aWNlIElEJywgJ2Vycm9yJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGV4dEFyZWEpOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gc2hvd1N0YXR1c01lc3NhZ2UobWVzc2FnZSwgdHlwZSkgewogICAgICAgICAgICBjb25zdCBzdGF0dXNCYXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RhdHVzQmFyJyk7CiAgICAgICAgICAgIGNvbnN0IGljb24gPSB0eXBlID09PSAnc3VjY2VzcycgPyAnZmEtY2hlY2stY2lyY2xlJyA6ICdmYS1leGNsYW1hdGlvbi1jaXJjbGUnOwogICAgICAgICAgICBjb25zdCBjb2xvciA9IHR5cGUgPT09ICdzdWNjZXNzJyA/ICcjMDBiMDliJyA6ICcjZmY0NzU3JzsKICAgICAgICAgICAgCiAgICAgICAgICAgIHN0YXR1c0Jhci5pbm5lckhUTUwgPSBgPGkgY2xhc3M9ImZhcyAke2ljb259Ij48L2k+ICR7bWVzc2FnZX1gOwogICAgICAgICAgICBzdGF0dXNCYXIuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gdHlwZSA9PT0gJ3N1Y2Nlc3MnID8gJyNlNmZmZjAnIDogJyNmZmYwZjAnOwogICAgICAgICAgICBzdGF0dXNCYXIuc3R5bGUuY29sb3IgPSBjb2xvcjsKICAgICAgICAgICAgCiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgc3RhdHVzQmFyLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjZTZmMGZmJzsKICAgICAgICAgICAgICAgIHN0YXR1c0Jhci5zdHlsZS5jb2xvciA9ICcjMWEyOTgwJzsKICAgICAgICAgICAgICAgIHN0YXR1c0Jhci50ZXh0Q29udGVudCA9ICdSZWFkeSB0byByZW5hbWUgcGhvdG9zLiBTZWxlY3QgZmlsZXMgYW5kIG9wdGlvbnMuJzsKICAgICAgICAgICAgfSwgMzAwMCk7CiAgICAgICAgfQoKICAgICAgICAvLyBJbml0aWFsaXplIERldmljZSBJRAogICAgICAgIGZ1bmN0aW9uIGluaXRpYWxpemVEZXZpY2VJZCgpIHsKICAgICAgICAgICAgbGV0IGRldmljZUlkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2RldmljZV9pZCcpOwogICAgICAgICAgICBpZiAoIWRldmljZUlkKSB7CiAgICAgICAgICAgICAgICBkZXZpY2VJZCA9IGdlbmVyYXRlRGV2aWNlSWQoKTsKICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdkZXZpY2VfaWQnLCBkZXZpY2VJZCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGN1cnJlbnREZXZpY2VJZCA9IGRldmljZUlkOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gRGlzcGxheSBEZXZpY2UgSUQKICAgICAgICAgICAgY29uc3QgZGV2aWNlSWREaXNwbGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RldmljZUlkRGlzcGxheScpOwogICAgICAgICAgICBpZiAoZGV2aWNlSWREaXNwbGF5KSB7CiAgICAgICAgICAgICAgICBkZXZpY2VJZERpc3BsYXkudGV4dENvbnRlbnQgPSBkZXZpY2VJZDsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgLy8gU2V0dXAgY29weSBidXR0b24KICAgICAgICAgICAgY29uc3QgY29weUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb3B5RGV2aWNlSWRCdG4nKTsKICAgICAgICAgICAgaWYgKGNvcHlCdG4pIHsKICAgICAgICAgICAgICAgIGNvcHlCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjb3B5RGV2aWNlSWRUb0NsaXBib2FyZCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vIENoZWNrIGxpY2Vuc2Ugb24gbG9hZAogICAgICAgIGZ1bmN0aW9uIGNoZWNrTGljZW5zZU9uTG9hZCgpIHsKICAgICAgICAgICAgLy8gSW5pdGlhbGl6ZSBEZXZpY2UgSUQgZmlyc3QKICAgICAgICAgICAgaW5pdGlhbGl6ZURldmljZUlkKCk7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBDaGVjayBzYXZlZCBsaWNlbnNlCiAgICAgICAgICAgIGNvbnN0IHNhdmVkTGljZW5zZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwaG90b19yZW5hbWVfbGljZW5zZScpOwogICAgICAgICAgICBpZiAoc2F2ZWRMaWNlbnNlKSB7CiAgICAgICAgICAgICAgICBjb25zdCBsaWNlbnNlRGF0YSA9IGRlY29kZUxpY2Vuc2VLZXkoc2F2ZWRMaWNlbnNlKTsKICAgICAgICAgICAgICAgIGlmIChsaWNlbnNlRGF0YSkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbGlkYXRpb24gPSB2YWxpZGF0ZUxpY2Vuc2UobGljZW5zZURhdGEsIGN1cnJlbnREZXZpY2VJZCk7CiAgICAgICAgICAgICAgICAgICAgdXBkYXRlTGljZW5zZVVJKHZhbGlkYXRpb24udmFsaWQsIHZhbGlkYXRpb24uZXhwaXJ5KTsKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICBpZiAoIXZhbGlkYXRpb24udmFsaWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1N0YXR1c01lc3NhZ2UodmFsaWRhdGlvbi5yZWFzb24sICdlcnJvcicpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgdXBkYXRlTGljZW5zZVVJKGZhbHNlKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHVwZGF0ZUxpY2Vuc2VVSShmYWxzZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vID09PT09PT09PT09PT09PSBNQUlOIEFQUExJQ0FUSU9OID09PT09PT09PT09PT09PQogICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgLy8gQ2hlY2sgbGljZW5zZSBmaXJzdAogICAgICAgICAgICBjaGVja0xpY2Vuc2VPbkxvYWQoKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIERPTSBFbGVtZW50cwogICAgICAgICAgICBjb25zdCBmaWxlSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmlsZUlucHV0Jyk7CiAgICAgICAgICAgIGNvbnN0IGRyb3Bab25lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Ryb3Bab25lJyk7CiAgICAgICAgICAgIGNvbnN0IHJlbmFtZUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZW5hbWVCdG4nKTsKICAgICAgICAgICAgY29uc3QgZG93bmxvYWRCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZG93bmxvYWRCdG4nKTsKICAgICAgICAgICAgY29uc3QgcmVzZXRCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzZXRCdG4nKTsKICAgICAgICAgICAgY29uc3QgbmFtZUxpc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmFtZUxpc3QnKTsKICAgICAgICAgICAgY29uc3Qgc3RhdHVzQmFyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YXR1c0JhcicpOwogICAgICAgICAgICBjb25zdCB0YWJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRhYicpOwogICAgICAgICAgICBjb25zdCByYW5nZVRhYiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyYW5nZVRhYicpOwogICAgICAgICAgICBjb25zdCBwYXR0ZXJuVGFiID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BhdHRlcm5UYWInKTsKICAgICAgICAgICAgY29uc3QgbXVsdGlwbGVUYWIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbXVsdGlwbGVUYWInKTsKICAgICAgICAgICAgY29uc3QgY3VzdG9tVGFiID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2N1c3RvbVRhYicpOwogICAgICAgICAgICBjb25zdCBudW1iZXJzVGFiID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ251bWJlcnNUYWInKTsKICAgICAgICAgICAgY29uc3QgbGljZW5zZVRhYiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsaWNlbnNlVGFiJyk7CiAgICAgICAgICAgIGNvbnN0IGZpbGVDb3VudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmaWxlQ291bnQnKTsKICAgICAgICAgICAgY29uc3QgY3VzdG9tTmFtZXNJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjdXN0b21OYW1lcycpOwogICAgICAgICAgICBjb25zdCBwcm9ncmVzc0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9ncmVzc0NvbnRhaW5lcicpOwogICAgICAgICAgICBjb25zdCBwcm9ncmVzc0JhciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9ncmVzc0JhcicpOwogICAgICAgICAgICBjb25zdCBwcmVmaXhJbnB1dHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJlZml4SW5wdXRzJyk7CiAgICAgICAgICAgIGNvbnN0IGFkZFByZWZpeEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGRQcmVmaXhCdG4nKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIExpY2Vuc2UgZWxlbWVudHMKICAgICAgICAgICAgY29uc3QgbGljZW5zZUtleUlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xpY2Vuc2VLZXlJbnB1dCcpOwogICAgICAgICAgICBjb25zdCBhY3RpdmF0ZUxpY2Vuc2VCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWN0aXZhdGVMaWNlbnNlQnRuJyk7CiAgICAgICAgICAgIGNvbnN0IGNsZWFyTGljZW5zZUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjbGVhckxpY2Vuc2VCdG4nKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIEZvcm0gZWxlbWVudHMKICAgICAgICAgICAgY29uc3QgcHJlZml4SW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJlZml4Jyk7CiAgICAgICAgICAgIGNvbnN0IHN0YXJ0UmFuZ2VJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGFydFJhbmdlJyk7CiAgICAgICAgICAgIGNvbnN0IGVuZFJhbmdlSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW5kUmFuZ2UnKTsKICAgICAgICAgICAgY29uc3QgcGF0dGVyblByZWZpeElucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BhdHRlcm5QcmVmaXgnKTsKICAgICAgICAgICAgY29uc3QgbGV0dGVyc0lucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xldHRlcnMnKTsKICAgICAgICAgICAgY29uc3QgcGF0dGVyblN0YXJ0SW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGF0dGVyblN0YXJ0Jyk7CiAgICAgICAgICAgIGNvbnN0IHBhdHRlcm5FbmRJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYXR0ZXJuRW5kJyk7CiAgICAgICAgICAgIGNvbnN0IHN0YXJ0TnVtYmVySW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RhcnROdW1iZXInKTsKICAgICAgICAgICAgY29uc3Qgc3RlcFZhbHVlSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RlcFZhbHVlJyk7CiAgICAgICAgICAgIGNvbnN0IHBhaXJTaXplSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFpclNpemUnKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIE11bHRpcGxlIHRhYiBlbGVtZW50cwogICAgICAgICAgICBjb25zdCBtdWx0aXBsZVN0YXJ0SW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbXVsdGlwbGVTdGFydCcpOwogICAgICAgICAgICBjb25zdCBtdWx0aXBsZUVuZElucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ211bHRpcGxlRW5kJyk7CiAgICAgICAgICAgIGNvbnN0IG11bHRpcGxlTGV0dGVyc0lucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ211bHRpcGxlTGV0dGVycycpOwogICAgICAgICAgICBjb25zdCBtdWx0aXBsZUdyb3VwU2l6ZUlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ211bHRpcGxlR3JvdXBTaXplJyk7CiAgICAgICAgICAgIGNvbnN0IGF1dG9TaXplTGFiZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXV0b1NpemVMYWJlbCcpOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gQ3VycmVudCBzdGF0ZQogICAgICAgICAgICBsZXQgc2VsZWN0ZWRGaWxlcyA9IFtdOwogICAgICAgICAgICBsZXQgcmVuYW1lZEZpbGVzID0gW107CiAgICAgICAgICAgIGxldCBjdXJyZW50VGFiID0gJ3JhbmdlJzsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIEluaXRpYWxpemUKICAgICAgICAgICAgdXBkYXRlRmlsZUNvdW50KCk7CiAgICAgICAgICAgIGluaXRpYWxpemVNdWx0aXBsZVByZWZpeGVzKCk7CiAgICAgICAgICAgIHVwZGF0ZVRvb2xBY2Nlc3MoKTsgLy8gSW5pdGlhbCB0b29sIGFjY2VzcyB1cGRhdGUKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vID09PT09PT09PT09PT09PSBFVkVOVCBMSVNURU5FUlMgPT09PT09PT09PT09PT09CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBMaWNlbnNlIGFjdGl2YXRpb24KICAgICAgICAgICAgYWN0aXZhdGVMaWNlbnNlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICBjb25zdCBsaWNlbnNlS2V5ID0gbGljZW5zZUtleUlucHV0LnZhbHVlLnRyaW0oKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgaWYgKCFsaWNlbnNlS2V5KSB7CiAgICAgICAgICAgICAgICAgICAgc2hvd1N0YXR1c01lc3NhZ2UoIlBsZWFzZSBlbnRlciBhIGxpY2Vuc2Uga2V5IiwgImVycm9yIik7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBjb25zdCBsaWNlbnNlRGF0YSA9IGRlY29kZUxpY2Vuc2VLZXkobGljZW5zZUtleSk7CiAgICAgICAgICAgICAgICBpZiAoIWxpY2Vuc2VEYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgc2hvd1N0YXR1c01lc3NhZ2UoIkludmFsaWQgbGljZW5zZSBrZXkgZm9ybWF0IiwgImVycm9yIik7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBjb25zdCB2YWxpZGF0aW9uID0gdmFsaWRhdGVMaWNlbnNlKGxpY2Vuc2VEYXRhLCBjdXJyZW50RGV2aWNlSWQpOwogICAgICAgICAgICAgICAgaWYgKHZhbGlkYXRpb24udmFsaWQpIHsKICAgICAgICAgICAgICAgICAgICAvLyBTYXZlIGxpY2Vuc2UKICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncGhvdG9fcmVuYW1lX2xpY2Vuc2UnLCBsaWNlbnNlS2V5KTsKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgVUkKICAgICAgICAgICAgICAgICAgICB1cGRhdGVMaWNlbnNlVUkodHJ1ZSwgdmFsaWRhdGlvbi5leHBpcnkpOwogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIC8vIFNob3cgc3VjY2VzcwogICAgICAgICAgICAgICAgICAgIHNob3dTdGF0dXNNZXNzYWdlKGBMaWNlbnNlIGFjdGl2YXRlZCEgVmFsaWQgdW50aWw6ICR7bmV3IERhdGUodmFsaWRhdGlvbi5leHBpcnkpLnRvTG9jYWxlRGF0ZVN0cmluZygpfWAsICdzdWNjZXNzJyk7CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgLy8gU3dpdGNoIHRvIGZpcnN0IHRhYgogICAgICAgICAgICAgICAgICAgIHN3aXRjaFRhYihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGFiW2RhdGEtdGFiPSJyYW5nZSJdJykpOwogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIC8vIENsZWFyIGlucHV0CiAgICAgICAgICAgICAgICAgICAgbGljZW5zZUtleUlucHV0LnZhbHVlID0gJyc7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHNob3dTdGF0dXNNZXNzYWdlKHZhbGlkYXRpb24ucmVhc29uLCAiZXJyb3IiKTsKICAgICAgICAgICAgICAgICAgICB1cGRhdGVMaWNlbnNlVUkoZmFsc2UpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIENsZWFyIGxpY2Vuc2UKICAgICAgICAgICAgY2xlYXJMaWNlbnNlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgncGhvdG9fcmVuYW1lX2xpY2Vuc2UnKTsKICAgICAgICAgICAgICAgIHVwZGF0ZUxpY2Vuc2VVSShmYWxzZSk7CiAgICAgICAgICAgICAgICBsaWNlbnNlS2V5SW5wdXQudmFsdWUgPSAnJzsKICAgICAgICAgICAgICAgIHNob3dTdGF0dXNNZXNzYWdlKCdMaWNlbnNlIGNsZWFyZWQuIERlbW8gbW9kZSBhY3RpdmF0ZWQuJywgJ2luZm8nKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBUYWIgc3dpdGNoaW5nIHdpdGggbGljZW5zZSBjaGVjawogICAgICAgICAgICB0YWJzLmZvckVhY2godGFiID0+IHsKICAgICAgICAgICAgICAgIHRhYi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHsKICAgICAgICAgICAgICAgICAgICAvLyBBbGxvdyBsaWNlbnNlIHRhYiBhbHdheXMKICAgICAgICAgICAgICAgICAgICBpZiAodGFiLmRhdGFzZXQudGFiID09PSAnbGljZW5zZScpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoVGFiKHRhYik7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGFiIGlzIGRpc2FibGVkCiAgICAgICAgICAgICAgICAgICAgaWYgKHRhYi5jbGFzc0xpc3QuY29udGFpbnMoJ2Rpc2FibGVkJykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc0xpY2Vuc2VWYWxpZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1N0YXR1c01lc3NhZ2UoIlBsZWFzZSBhY3RpdmF0ZSBsaWNlbnNlIHRvIGFjY2VzcyB0aGlzIGZlYXR1cmUiLCAiZXJyb3IiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaFRhYihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGFiW2RhdGEtdGFiPSJsaWNlbnNlIl0nKSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAvLyBMaWNlbnNlIHZhbGlkLCBhbGxvdyB0YWIgc3dpdGNoCiAgICAgICAgICAgICAgICAgICAgc3dpdGNoVGFiKHRhYik7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIAogICAgICAgICAgICBmdW5jdGlvbiBzd2l0Y2hUYWIodGFiKSB7CiAgICAgICAgICAgICAgICB0YWJzLmZvckVhY2godCA9PiB0LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpKTsKICAgICAgICAgICAgICAgIHRhYi5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTsKICAgICAgICAgICAgICAgIGN1cnJlbnRUYWIgPSB0YWIuZGF0YXNldC50YWI7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIHJhbmdlVGFiLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpOwogICAgICAgICAgICAgICAgcGF0dGVyblRhYi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTsKICAgICAgICAgICAgICAgIG11bHRpcGxlVGFiLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpOwogICAgICAgICAgICAgICAgY3VzdG9tVGFiLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpOwogICAgICAgICAgICAgICAgbnVtYmVyc1RhYi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTsKICAgICAgICAgICAgICAgIGxpY2Vuc2VUYWIuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGlmIChjdXJyZW50VGFiID09PSAncmFuZ2UnKSB7CiAgICAgICAgICAgICAgICAgICAgcmFuZ2VUYWIuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnRUYWIgPT09ICdwYXR0ZXJuJykgewogICAgICAgICAgICAgICAgICAgIHBhdHRlcm5UYWIuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnRUYWIgPT09ICdtdWx0aXBsZScpIHsKICAgICAgICAgICAgICAgICAgICBtdWx0aXBsZVRhYi5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY3VycmVudFRhYiA9PT0gJ2N1c3RvbScpIHsKICAgICAgICAgICAgICAgICAgICBjdXN0b21UYWIuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnRUYWIgPT09ICdudW1iZXJzJykgewogICAgICAgICAgICAgICAgICAgIG51bWJlcnNUYWIuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGxpY2Vuc2VUYWIuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGdlbmVyYXRlTmFtZXMoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgLy8gSW5wdXQgY2hhbmdlIGxpc3RlbmVycwogICAgICAgICAgICBwcmVmaXhJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGdlbmVyYXRlTmFtZXMpOwogICAgICAgICAgICBzdGFydFJhbmdlSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBnZW5lcmF0ZU5hbWVzKTsKICAgICAgICAgICAgZW5kUmFuZ2VJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGdlbmVyYXRlTmFtZXMpOwogICAgICAgICAgICBwYXR0ZXJuUHJlZml4SW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBnZW5lcmF0ZU5hbWVzKTsKICAgICAgICAgICAgbGV0dGVyc0lucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgZ2VuZXJhdGVOYW1lcyk7CiAgICAgICAgICAgIHBhdHRlcm5TdGFydElucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgZ2VuZXJhdGVOYW1lcyk7CiAgICAgICAgICAgIHBhdHRlcm5FbmRJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGdlbmVyYXRlTmFtZXMpOwogICAgICAgICAgICBjdXN0b21OYW1lc0lucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgZ2VuZXJhdGVOYW1lcyk7CiAgICAgICAgICAgIHN0YXJ0TnVtYmVySW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBnZW5lcmF0ZU5hbWVzKTsKICAgICAgICAgICAgc3RlcFZhbHVlSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBnZW5lcmF0ZU5hbWVzKTsKICAgICAgICAgICAgcGFpclNpemVJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGdlbmVyYXRlTmFtZXMpOwogICAgICAgICAgICBtdWx0aXBsZVN0YXJ0SW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBnZW5lcmF0ZU5hbWVzKTsKICAgICAgICAgICAgbXVsdGlwbGVFbmRJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGdlbmVyYXRlTmFtZXMpOwogICAgICAgICAgICBtdWx0aXBsZUxldHRlcnNJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGdlbmVyYXRlTmFtZXMpOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gTXVsdGlwbGUgcHJlZml4IGxpc3RlbmVycwogICAgICAgICAgICBhZGRQcmVmaXhCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIGlmICh0aGlzLmNsYXNzTGlzdC5jb250YWlucygnZGlzYWJsZWQnKSkgcmV0dXJuOwogICAgICAgICAgICAgICAgYWRkUHJlZml4RmllbGQoKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBGaWxlIG9wZXJhdGlvbnMgd2l0aCBsaWNlbnNlIGNoZWNrCiAgICAgICAgICAgIGRyb3Bab25lLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gewogICAgICAgICAgICAgICAgaWYgKGRyb3Bab25lLmNsYXNzTGlzdC5jb250YWlucygnZGlzYWJsZWQnKSkgewogICAgICAgICAgICAgICAgICAgIGlmICghaXNMaWNlbnNlVmFsaWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1N0YXR1c01lc3NhZ2UoIlBsZWFzZSBhY3RpdmF0ZSBsaWNlbnNlIHRvIHVwbG9hZCBmaWxlcyIsICJlcnJvciIpOwogICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2hUYWIoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRhYltkYXRhLXRhYj0ibGljZW5zZSJdJykpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBmaWxlSW5wdXQuY2xpY2soKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIAogICAgICAgICAgICBmaWxlSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGUpID0+IHsKICAgICAgICAgICAgICAgIGlmIChmaWxlSW5wdXQuZGlzYWJsZWQpIHJldHVybjsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgbGV0IGZpbGVzID0gQXJyYXkuZnJvbShlLnRhcmdldC5maWxlcyk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vIEFwcGx5IGZpbGUgbGltaXQgaW4gZGVtbyBtb2RlCiAgICAgICAgICAgICAgICBpZiAoIWlzTGljZW5zZVZhbGlkICYmIGZpbGVzLmxlbmd0aCA+IDUpIHsKICAgICAgICAgICAgICAgICAgICBzaG93U3RhdHVzTWVzc2FnZSgiRGVtbyBsaW1pdDogTWF4aW11bSA1IHBob3RvcyBhbGxvd2VkLiBQbGVhc2UgYWN0aXZhdGUgbGljZW5zZSBmb3IgdW5saW1pdGVkIHBob3Rvcy4iLCAiZXJyb3IiKTsKICAgICAgICAgICAgICAgICAgICBmaWxlcyA9IGZpbGVzLnNsaWNlKDAsIDUpOyAvLyBUYWtlIG9ubHkgZmlyc3QgNSBmaWxlcwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBzZWxlY3RlZEZpbGVzID0gZmlsZXM7CiAgICAgICAgICAgICAgICB1cGRhdGVGaWxlQ291bnQoKTsKICAgICAgICAgICAgICAgIHVwZGF0ZUF1dG9Hcm91cFNpemUoKTsKICAgICAgICAgICAgICAgIGdlbmVyYXRlTmFtZXMoKTsKICAgICAgICAgICAgICAgIHVwZGF0ZVN0YXR1cygpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGRyb3Bab25lLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgKGUpID0+IHsKICAgICAgICAgICAgICAgIGlmIChkcm9wWm9uZS5jbGFzc0xpc3QuY29udGFpbnMoJ2Rpc2FibGVkJykpIHJldHVybjsKICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgICAgIGRyb3Bab25lLnN0eWxlLmJvcmRlckNvbG9yID0gJyMyNmQwY2UnOwogICAgICAgICAgICAgICAgZHJvcFpvbmUuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyNlMWU5ZmYnOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGRyb3Bab25lLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdsZWF2ZScsICgpID0+IHsKICAgICAgICAgICAgICAgIGlmIChkcm9wWm9uZS5jbGFzc0xpc3QuY29udGFpbnMoJ2Rpc2FibGVkJykpIHJldHVybjsKICAgICAgICAgICAgICAgIGRyb3Bab25lLnN0eWxlLmJvcmRlckNvbG9yID0gJyNjMmQxZmYnOwogICAgICAgICAgICAgICAgZHJvcFpvbmUuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyNmOWZiZmYnOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGRyb3Bab25lLmFkZEV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCAoZSkgPT4gewogICAgICAgICAgICAgICAgaWYgKGRyb3Bab25lLmNsYXNzTGlzdC5jb250YWlucygnZGlzYWJsZWQnKSkgcmV0dXJuOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgICAgICBkcm9wWm9uZS5zdHlsZS5ib3JkZXJDb2xvciA9ICcjYzJkMWZmJzsKICAgICAgICAgICAgICAgIGRyb3Bab25lLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjZjlmYmZmJzsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgaWYgKGUuZGF0YVRyYW5zZmVyLmZpbGVzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICBsZXQgZmlsZXMgPSBBcnJheS5mcm9tKGUuZGF0YVRyYW5zZmVyLmZpbGVzKTsKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAvLyBBcHBseSBmaWxlIGxpbWl0IGluIGRlbW8gbW9kZQogICAgICAgICAgICAgICAgICAgIGlmICghaXNMaWNlbnNlVmFsaWQgJiYgZmlsZXMubGVuZ3RoID4gNSkgewogICAgICAgICAgICAgICAgICAgICAgICBzaG93U3RhdHVzTWVzc2FnZSgiRGVtbyBsaW1pdDogTWF4aW11bSA1IHBob3RvcyBhbGxvd2VkLiBQbGVhc2UgYWN0aXZhdGUgbGljZW5zZSBmb3IgdW5saW1pdGVkIHBob3Rvcy4iLCAiZXJyb3IiKTsKICAgICAgICAgICAgICAgICAgICAgICAgZmlsZXMgPSBmaWxlcy5zbGljZSgwLCA1KTsgLy8gVGFrZSBvbmx5IGZpcnN0IDUgZmlsZXMKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRGaWxlcyA9IGZpbGVzOwogICAgICAgICAgICAgICAgICAgIHVwZGF0ZUZpbGVDb3VudCgpOwogICAgICAgICAgICAgICAgICAgIHVwZGF0ZUF1dG9Hcm91cFNpemUoKTsKICAgICAgICAgICAgICAgICAgICBnZW5lcmF0ZU5hbWVzKCk7CiAgICAgICAgICAgICAgICAgICAgdXBkYXRlU3RhdHVzKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAKICAgICAgICAgICAgcmVuYW1lQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICBpZiAodGhpcy5jbGFzc0xpc3QuY29udGFpbnMoJ2Rpc2FibGVkJykpIHJldHVybjsKICAgICAgICAgICAgICAgIHJlbmFtZUZpbGVzKCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAKICAgICAgICAgICAgZG93bmxvYWRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIGlmICh0aGlzLmNsYXNzTGlzdC5jb250YWlucygnZGlzYWJsZWQnKSkgcmV0dXJuOwogICAgICAgICAgICAgICAgZG93bmxvYWRGaWxlcygpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgCiAgICAgICAgICAgIHJlc2V0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcmVzZXRUb29sKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vID09PT09PT09PT09PT09PSBGVU5DVElPTlMgPT09PT09PT09PT09PT09CiAgICAgICAgICAgIAogICAgICAgICAgICBmdW5jdGlvbiBpbml0aWFsaXplTXVsdGlwbGVQcmVmaXhlcygpIHsKICAgICAgICAgICAgICAgIGNvbnN0IHByZWZpeEZpZWxkcyA9IHByZWZpeElucHV0cy5xdWVyeVNlbGVjdG9yQWxsKCcubXVsdGlwbGUtcHJlZml4Jyk7CiAgICAgICAgICAgICAgICBwcmVmaXhGaWVsZHMuZm9yRWFjaCgoaW5wdXQsIGluZGV4KSA9PiB7CiAgICAgICAgICAgICAgICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBnZW5lcmF0ZU5hbWVzKTsKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICBjb25zdCByZW1vdmVCdG4gPSBpbnB1dC5uZXh0RWxlbWVudFNpYmxpbmc7CiAgICAgICAgICAgICAgICAgICAgaWYgKHJlbW92ZUJ0biAmJiByZW1vdmVCdG4uY2xhc3NMaXN0LmNvbnRhaW5zKCdyZW1vdmUtcHJlZml4LWJ0bicpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlQnRuLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVCdG4uc3R5bGUuZGlzcGxheSA9ICdmbGV4JzsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJvdyA9IHRoaXMucGFyZW50RWxlbWVudDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmVmaXhJbnB1dHMuY2hpbGRyZW4ubGVuZ3RoID4gMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZWZpeElucHV0cy5yZW1vdmVDaGlsZChyb3cpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdlbmVyYXRlTmFtZXMoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGZ1bmN0aW9uIGFkZFByZWZpeEZpZWxkKCkgewogICAgICAgICAgICAgICAgY29uc3QgcHJlZml4Um93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICBwcmVmaXhSb3cuY2xhc3NOYW1lID0gJ3ByZWZpeC1pbnB1dC1yb3cnOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBjb25zdCBuZXdJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7CiAgICAgICAgICAgICAgICBuZXdJbnB1dC50eXBlID0gJ3RleHQnOwogICAgICAgICAgICAgICAgbmV3SW5wdXQuY2xhc3NOYW1lID0gJ211bHRpcGxlLXByZWZpeCc7CiAgICAgICAgICAgICAgICBuZXdJbnB1dC5wbGFjZWhvbGRlciA9ICdFbnRlciBwcmVmaXggKGUuZy4sIFMyMCknOwogICAgICAgICAgICAgICAgbmV3SW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBnZW5lcmF0ZU5hbWVzKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgY29uc3QgcmVtb3ZlQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7CiAgICAgICAgICAgICAgICByZW1vdmVCdG4uY2xhc3NOYW1lID0gJ3JlbW92ZS1wcmVmaXgtYnRuJzsKICAgICAgICAgICAgICAgIHJlbW92ZUJ0bi5pbm5lckhUTUwgPSAnPGkgY2xhc3M9ImZhcyBmYS10aW1lcyI+PC9pPic7CiAgICAgICAgICAgICAgICByZW1vdmVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICBpZiAocHJlZml4SW5wdXRzLmNoaWxkcmVuLmxlbmd0aCA+IDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcHJlZml4SW5wdXRzLnJlbW92ZUNoaWxkKHByZWZpeFJvdyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGdlbmVyYXRlTmFtZXMoKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgcHJlZml4Um93LmFwcGVuZENoaWxkKG5ld0lucHV0KTsKICAgICAgICAgICAgICAgIHByZWZpeFJvdy5hcHBlbmRDaGlsZChyZW1vdmVCdG4pOwogICAgICAgICAgICAgICAgcHJlZml4SW5wdXRzLmFwcGVuZENoaWxkKHByZWZpeFJvdyk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGdlbmVyYXRlTmFtZXMoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgZnVuY3Rpb24gdXBkYXRlQXV0b0dyb3VwU2l6ZSgpIHsKICAgICAgICAgICAgICAgIGNvbnN0IGdyb3VwU2l6ZSA9IHNlbGVjdGVkRmlsZXMubGVuZ3RoID4gMCA/IHNlbGVjdGVkRmlsZXMubGVuZ3RoIDogMTsKICAgICAgICAgICAgICAgIG11bHRpcGxlR3JvdXBTaXplSW5wdXQudmFsdWUgPSBncm91cFNpemU7CiAgICAgICAgICAgICAgICBhdXRvU2l6ZUxhYmVsLnRleHRDb250ZW50ID0gYChBdXRvOiAke2dyb3VwU2l6ZX0pYDsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8gQXV0by11cGRhdGUgZW5kIHJhbmdlCiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRGaWxlcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgbXVsdGlwbGVFbmRJbnB1dC52YWx1ZSA9IGdyb3VwU2l6ZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgZnVuY3Rpb24gZ2V0TXVsdGlwbGVQcmVmaXhlcygpIHsKICAgICAgICAgICAgICAgIGNvbnN0IHByZWZpeGVzID0gW107CiAgICAgICAgICAgICAgICBjb25zdCBwcmVmaXhGaWVsZHMgPSBwcmVmaXhJbnB1dHMucXVlcnlTZWxlY3RvckFsbCgnLm11bHRpcGxlLXByZWZpeCcpOwogICAgICAgICAgICAgICAgcHJlZml4RmllbGRzLmZvckVhY2goaW5wdXQgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gaW5wdXQudmFsdWUudHJpbSgpOwogICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gJycpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcHJlZml4ZXMucHVzaCh2YWx1ZSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICByZXR1cm4gcHJlZml4ZXM7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGZ1bmN0aW9uIHVwZGF0ZUZpbGVDb3VudCgpIHsKICAgICAgICAgICAgICAgIGZpbGVDb3VudC50ZXh0Q29udGVudCA9IHNlbGVjdGVkRmlsZXMubGVuZ3RoOwogICAgICAgICAgICAgICAgZmlsZUNvdW50LnN0eWxlLmRpc3BsYXkgPSBzZWxlY3RlZEZpbGVzLmxlbmd0aCA+IDAgPyAnZmxleCcgOiAnbm9uZSc7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGZ1bmN0aW9uIGdlbmVyYXRlTmFtZXMoKSB7CiAgICAgICAgICAgICAgICBuYW1lTGlzdC5pbm5lckhUTUwgPSAnJzsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkRmlsZXMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgbmFtZUxpc3QuaW5uZXJIVE1MID0gJzxkaXYgY2xhc3M9Im5hbWUtaXRlbSI+Tm8gZmlsZXMgc2VsZWN0ZWQ8L2Rpdj4nOwogICAgICAgICAgICAgICAgICAgIGRvd25sb2FkQnRuLmRpc2FibGVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIHJlbmFtZWRGaWxlcyA9IFtdOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFRhYiA9PT0gJ3JhbmdlJykgewogICAgICAgICAgICAgICAgICAgIGdlbmVyYXRlUmFuZ2VOYW1lcygpOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjdXJyZW50VGFiID09PSAncGF0dGVybicpIHsKICAgICAgICAgICAgICAgICAgICBnZW5lcmF0ZVBhdHRlcm5OYW1lcygpOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjdXJyZW50VGFiID09PSAnbXVsdGlwbGUnKSB7CiAgICAgICAgICAgICAgICAgICAgZ2VuZXJhdGVNdWx0aXBsZVdpdGhBdXRvR3JvdXBTaXplKCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnRUYWIgPT09ICdjdXN0b20nKSB7CiAgICAgICAgICAgICAgICAgICAgZ2VuZXJhdGVDdXN0b21OYW1lcygpOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjdXJyZW50VGFiID09PSAnbnVtYmVycycpIHsKICAgICAgICAgICAgICAgICAgICBnZW5lcmF0ZU51bWJlclNlcXVlbmNlKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vIERpc3BsYXkgbmFtZXMgKHNob3cgZmlyc3QgMjAgb25seSBpZiB0b28gbWFueSkKICAgICAgICAgICAgICAgIGNvbnN0IG1heERpc3BsYXkgPSAyMDsKICAgICAgICAgICAgICAgIGxldCBkaXNwbGF5Q291bnQgPSAwOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICByZW5hbWVkRmlsZXMuZm9yRWFjaCgobmFtZSwgaW5kZXgpID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAoZGlzcGxheUNvdW50IDwgbWF4RGlzcGxheSkgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuYW1lSXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgICAgICAgICBuYW1lSXRlbS5jbGFzc05hbWUgPSAnbmFtZS1pdGVtJzsKICAgICAgICAgICAgICAgICAgICAgICAgbmFtZUl0ZW0udGV4dENvbnRlbnQgPSBuYW1lOwogICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRkIHNlcGFyYXRvciBmb3IgYmV0dGVyIHJlYWRhYmlsaXR5CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50VGFiID09PSAnbXVsdGlwbGUnICYmIGluZGV4ID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJlZml4ZXMgPSBnZXRNdWx0aXBsZVByZWZpeGVzKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsZXR0ZXJzID0gbXVsdGlwbGVMZXR0ZXJzSW5wdXQudmFsdWUuc3BsaXQoJywnKS5tYXAobCA9PiBsLnRyaW0oKSkuZmlsdGVyKGwgPT4gbCAhPT0gJycpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZ3JvdXBTaXplID0gcGFyc2VJbnQobXVsdGlwbGVHcm91cFNpemVJbnB1dC52YWx1ZSkgfHwgMTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gcGFyc2VJbnQobXVsdGlwbGVTdGFydElucHV0LnZhbHVlKSB8fCAxOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZW5kID0gcGFyc2VJbnQobXVsdGlwbGVFbmRJbnB1dC52YWx1ZSkgfHwgc3RhcnQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW1zUGVyUHJlZml4ID0gbGV0dGVycy5sZW5ndGggKiAoZW5kIC0gc3RhcnQgKyAxKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCAlIGl0ZW1zUGVyUHJlZml4ID09PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VwYXJhdG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VwYXJhdG9yLnN0eWxlLnBhZGRpbmcgPSAnMnB4IDhweCc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VwYXJhdG9yLnN0eWxlLmZvbnRTaXplID0gJzAuN3JlbSc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VwYXJhdG9yLnN0eWxlLmNvbG9yID0gJyM2NjYnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcGFyYXRvci5zdHlsZS5mb250U3R5bGUgPSAnaXRhbGljJzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXBhcmF0b3Iuc3R5bGUuYm9yZGVyVG9wID0gJzFweCBkYXNoZWQgI2MyZDFmZic7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VwYXJhdG9yLnN0eWxlLm1hcmdpblRvcCA9ICcycHgnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcGFyYXRvci50ZXh0Q29udGVudCA9ICctLS0gTmV4dCBQcmVmaXggLS0tJzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lTGlzdC5hcHBlbmRDaGlsZChzZXBhcmF0b3IpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICBuYW1lTGlzdC5hcHBlbmRDaGlsZChuYW1lSXRlbSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXlDb3VudCsrOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyBBZGQgbWVzc2FnZSBpZiBtb3JlIGZpbGVzIGV4aXN0CiAgICAgICAgICAgICAgICBpZiAocmVuYW1lZEZpbGVzLmxlbmd0aCA+IG1heERpc3BsYXkpIHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBtb3JlSXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgICAgIG1vcmVJdGVtLmNsYXNzTmFtZSA9ICduYW1lLWl0ZW0nOwogICAgICAgICAgICAgICAgICAgIG1vcmVJdGVtLnN0eWxlLmNvbG9yID0gJyM2NjYnOwogICAgICAgICAgICAgICAgICAgIG1vcmVJdGVtLnN0eWxlLmZvbnRTdHlsZSA9ICdpdGFsaWMnOwogICAgICAgICAgICAgICAgICAgIG1vcmVJdGVtLnRleHRDb250ZW50ID0gYC4uLiBhbmQgJHtyZW5hbWVkRmlsZXMubGVuZ3RoIC0gbWF4RGlzcGxheX0gbW9yZSBmaWxlc2A7CiAgICAgICAgICAgICAgICAgICAgbmFtZUxpc3QuYXBwZW5kQ2hpbGQobW9yZUl0ZW0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB1cGRhdGVTdGF0dXMoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgZnVuY3Rpb24gZ2VuZXJhdGVSYW5nZU5hbWVzKCkgewogICAgICAgICAgICAgICAgY29uc3QgcHJlZml4ID0gcHJlZml4SW5wdXQudmFsdWUudHJpbSgpIHx8ICdTJzsKICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gcGFyc2VJbnQoc3RhcnRSYW5nZUlucHV0LnZhbHVlKSB8fCAxOwogICAgICAgICAgICAgICAgbGV0IGVuZCA9IHBhcnNlSW50KGVuZFJhbmdlSW5wdXQudmFsdWUpIHx8IHN0YXJ0OwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBpZiAoZW5kIDwgc3RhcnQpIGVuZCA9IHN0YXJ0OwogICAgICAgICAgICAgICAgaWYgKGVuZCAtIHN0YXJ0ICsgMSA8IHNlbGVjdGVkRmlsZXMubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgICAgZW5kID0gc3RhcnQgKyBzZWxlY3RlZEZpbGVzLmxlbmd0aCAtIDE7CiAgICAgICAgICAgICAgICAgICAgZW5kUmFuZ2VJbnB1dC52YWx1ZSA9IGVuZDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWxlY3RlZEZpbGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGkgKyBzdGFydCA+IGVuZCkgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3TmFtZSA9IGAke3ByZWZpeH1fJHtpICsgc3RhcnR9YDsKICAgICAgICAgICAgICAgICAgICByZW5hbWVkRmlsZXMucHVzaChuZXdOYW1lKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgZnVuY3Rpb24gZ2VuZXJhdGVQYXR0ZXJuTmFtZXMoKSB7CiAgICAgICAgICAgICAgICBjb25zdCBwcmVmaXggPSBwYXR0ZXJuUHJlZml4SW5wdXQudmFsdWUudHJpbSgpIHx8ICdTNSc7CiAgICAgICAgICAgICAgICBjb25zdCBsZXR0ZXJzID0gbGV0dGVyc0lucHV0LnZhbHVlLnNwbGl0KCcsJykubWFwKGwgPT4gbC50cmltKCkpLmZpbHRlcihsID0+IGwgIT09ICcnKTsKICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gcGFyc2VJbnQocGF0dGVyblN0YXJ0SW5wdXQudmFsdWUpIHx8IDE7CiAgICAgICAgICAgICAgICBsZXQgZW5kID0gcGFyc2VJbnQocGF0dGVybkVuZElucHV0LnZhbHVlKSB8fCBzdGFydDsKICAgICAgICAgICAgICAgIGNvbnN0IHBhaXJTaXplID0gcGFyc2VJbnQocGFpclNpemVJbnB1dC52YWx1ZSkgfHwgMjsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgaWYgKGVuZCA8IHN0YXJ0KSBlbmQgPSBzdGFydDsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgaWYgKGxldHRlcnMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgLy8gSWYgbm8gbGV0dGVycywganVzdCB1c2UgbnVtYmVycwogICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VsZWN0ZWRGaWxlcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSArIHN0YXJ0ID4gZW5kKSBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3TmFtZSA9IGAke3ByZWZpeH1fJHtpICsgc3RhcnR9YDsKICAgICAgICAgICAgICAgICAgICAgICAgcmVuYW1lZEZpbGVzLnB1c2gobmV3TmFtZSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8gRkxFWElCTEUgR1JPVVBJTkcgTE9HSUMKICAgICAgICAgICAgICAgIC8vIEhhciBncm91cCAocGFpclNpemUpIGtlIGxpeWUgc2FtZSBsZXR0ZXIsIGRpZmZlcmVudCBudW1iZXJzCiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlbGVjdGVkRmlsZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBsZXR0ZXJJbmRleCA9IE1hdGguZmxvb3IoaSAvIHBhaXJTaXplKSAlIGxldHRlcnMubGVuZ3RoOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IG51bSA9IHN0YXJ0ICsgKGkgJSBwYWlyU2l6ZSk7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3TmFtZSA9IGAke3ByZWZpeH1fJHtsZXR0ZXJzW2xldHRlckluZGV4XX1fJHtudW19YDsKICAgICAgICAgICAgICAgICAgICByZW5hbWVkRmlsZXMucHVzaChuZXdOYW1lKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8gQXV0by1hZGp1c3QgZW5kIHZhbHVlIGJhc2VkIG9uIHBhaXJTaXplCiAgICAgICAgICAgICAgICBjb25zdCBzdWdnZXN0ZWRFbmQgPSBzdGFydCArIHBhaXJTaXplIC0gMTsKICAgICAgICAgICAgICAgIGlmIChwYXR0ZXJuRW5kSW5wdXQudmFsdWUgIT0gc3VnZ2VzdGVkRW5kKSB7CiAgICAgICAgICAgICAgICAgICAgcGF0dGVybkVuZElucHV0LnZhbHVlID0gc3VnZ2VzdGVkRW5kOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICBmdW5jdGlvbiBnZW5lcmF0ZU11bHRpcGxlV2l0aEF1dG9Hcm91cFNpemUoKSB7CiAgICAgICAgICAgICAgICBjb25zdCBwcmVmaXhlcyA9IGdldE11bHRpcGxlUHJlZml4ZXMoKTsKICAgICAgICAgICAgICAgIGNvbnN0IGxldHRlcnMgPSBtdWx0aXBsZUxldHRlcnNJbnB1dC52YWx1ZS5zcGxpdCgnLCcpLm1hcChsID0+IGwudHJpbSgpKS5maWx0ZXIobCA9PiBsICE9PSAnJyk7CiAgICAgICAgICAgICAgICBjb25zdCBzdGFydCA9IHBhcnNlSW50KG11bHRpcGxlU3RhcnRJbnB1dC52YWx1ZSkgfHwgMTsKICAgICAgICAgICAgICAgIGxldCBlbmQgPSBwYXJzZUludChtdWx0aXBsZUVuZElucHV0LnZhbHVlKSB8fCBzdGFydDsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8gQXV0by1jYWxjdWxhdGUgZ3JvdXAgc2l6ZSBiYXNlZCBvbiB1cGxvYWRlZCBwaG90b3MKICAgICAgICAgICAgICAgIGNvbnN0IGdyb3VwU2l6ZSA9IHNlbGVjdGVkRmlsZXMubGVuZ3RoID4gMCA/IHNlbGVjdGVkRmlsZXMubGVuZ3RoIDogMTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgaWYgKGVuZCA8IHN0YXJ0KSBlbmQgPSBzdGFydDsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgaWYgKHByZWZpeGVzLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgIC8vIElmIG5vIHByZWZpeGVzLCB1c2UgZGVmYXVsdAogICAgICAgICAgICAgICAgICAgIHByZWZpeGVzLnB1c2goJ1MnKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgaWYgKGxldHRlcnMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgLy8gSWYgbm8gbGV0dGVycywganVzdCB1c2UgbnVtYmVycyB3aXRoIHByZWZpeGVzCiAgICAgICAgICAgICAgICAgICAgbGV0IGZpbGVJbmRleCA9IDA7CiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgcCA9IDA7IHAgPCBwcmVmaXhlcy5sZW5ndGg7IHArKykgewogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdyb3VwU2l6ZTsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmlsZUluZGV4ID49IHNlbGVjdGVkRmlsZXMubGVuZ3RoICogMTApIGJyZWFrOyAvLyBTYWZldHkgbGltaXQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG51bSA9IHN0YXJ0ICsgKGkgJSAoZW5kIC0gc3RhcnQgKyAxKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdOYW1lID0gYCR7cHJlZml4ZXNbcF19XyR7bnVtfWA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW5hbWVkRmlsZXMucHVzaChuZXdOYW1lKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVJbmRleCsrOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIHRvdGFsIG5hbWVzIG5lZWRlZAogICAgICAgICAgICAgICAgY29uc3QgdG90YWxOYW1lc05lZWRlZCA9IHByZWZpeGVzLmxlbmd0aCAqIGxldHRlcnMubGVuZ3RoICogKGVuZCAtIHN0YXJ0ICsgMSk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vIEdlbmVyYXRlIGFsbCBuYW1lcyAocGhvdG9zIHdpbGwgYmUgY3ljbGVkKQogICAgICAgICAgICAgICAgbGV0IHBob3RvSW5kZXggPSAwOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBmb3IgKGxldCBwID0gMDsgcCA8IHByZWZpeGVzLmxlbmd0aDsgcCsrKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJlZml4ID0gcHJlZml4ZXNbcF07CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgbCA9IDA7IGwgPCBsZXR0ZXJzLmxlbmd0aDsgbCsrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxldHRlciA9IGxldHRlcnNbbF07CiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBuID0gc3RhcnQ7IG4gPD0gZW5kOyBuKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld05hbWUgPSBgJHtwcmVmaXh9XyR7bGV0dGVyfV8ke259YDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbmFtZWRGaWxlcy5wdXNoKG5ld05hbWUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGhvdG9JbmRleCsrOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyBBdXRvLWFkanVzdCBlbmQgdmFsdWUgYmFzZWQgb24gZ3JvdXAgc2l6ZQogICAgICAgICAgICAgICAgaWYgKG11bHRpcGxlRW5kSW5wdXQudmFsdWUgIT0gZ3JvdXBTaXplKSB7CiAgICAgICAgICAgICAgICAgICAgbXVsdGlwbGVFbmRJbnB1dC52YWx1ZSA9IGdyb3VwU2l6ZTsKICAgICAgICAgICAgICAgICAgICBlbmQgPSBncm91cFNpemU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGZ1bmN0aW9uIGdlbmVyYXRlQ3VzdG9tTmFtZXMoKSB7CiAgICAgICAgICAgICAgICBjb25zdCBjdXN0b21OYW1lcyA9IGN1c3RvbU5hbWVzSW5wdXQudmFsdWUudHJpbSgpLnNwbGl0KCdcbicpLm1hcChuYW1lID0+IG5hbWUudHJpbSgpKS5maWx0ZXIobmFtZSA9PiBuYW1lICE9PSAnJyk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGlmIChjdXN0b21OYW1lcy5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgICAgICAgICAvLyBJZiBubyBjdXN0b20gbmFtZXMsIHVzZSBkZWZhdWx0IG5hbWVzCiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWxlY3RlZEZpbGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlbmFtZWRGaWxlcy5wdXNoKGBwaG90b18ke2kgKyAxfWApOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vIFNwZWNpYWwgaGFuZGxpbmcgZm9yIGN1c3RvbSBuYW1lczogZHVwbGljYXRlIGZpcnN0IGZpbGUgZm9yIGFsbCBuYW1lcwogICAgICAgICAgICAgICAgcmVuYW1lZEZpbGVzID0gY3VzdG9tTmFtZXM7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGZ1bmN0aW9uIGdlbmVyYXRlTnVtYmVyU2VxdWVuY2UoKSB7CiAgICAgICAgICAgICAgICBjb25zdCBzdGFydCA9IHBhcnNlSW50KHN0YXJ0TnVtYmVySW5wdXQudmFsdWUpIHx8IDE7CiAgICAgICAgICAgICAgICBjb25zdCBzdGVwID0gcGFyc2VJbnQoc3RlcFZhbHVlSW5wdXQudmFsdWUpIHx8IDE7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VsZWN0ZWRGaWxlcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICAgIC8vIFNpbXBsZSBudW1iZXIgc2VxdWVuY2Ugd2l0aG91dCBhbnkgcHJlZml4ZXMgb3Igc3VmZml4ZXMKICAgICAgICAgICAgICAgICAgICBjb25zdCBudW1iZXJWYWx1ZSA9IHN0YXJ0ICsgKGkgKiBzdGVwKTsKICAgICAgICAgICAgICAgICAgICByZW5hbWVkRmlsZXMucHVzaChudW1iZXJWYWx1ZS50b1N0cmluZygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgZnVuY3Rpb24gdXBkYXRlU3RhdHVzKCkgewogICAgICAgICAgICAgICAgbGV0IG1lc3NhZ2UgPSAnJzsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkRmlsZXMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9ICdSZWFkeSB0byByZW5hbWUgcGhvdG9zLiBTZWxlY3QgZmlsZXMgYW5kIG9wdGlvbnMuJzsKICAgICAgICAgICAgICAgICAgICBkb3dubG9hZEJ0bi5kaXNhYmxlZCA9IHRydWU7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbGVXb3JkID0gc2VsZWN0ZWRGaWxlcy5sZW5ndGggPT09IDEgPyAnZmlsZScgOiAnZmlsZXMnOwogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50VGFiID09PSAnY3VzdG9tJyAmJiBjdXN0b21OYW1lc0lucHV0LnZhbHVlLnRyaW0oKSAhPT0gJycpIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ3VzdG9tIHRhYiB3aXRoIG5hbWVzIC0gc2hvdyBzcGVjaWFsIG1lc3NhZ2UKICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBTZWxlY3RlZCAke3NlbGVjdGVkRmlsZXMubGVuZ3RofSAke2ZpbGVXb3JkfS4gV2lsbCBjcmVhdGUgJHtyZW5hbWVkRmlsZXMubGVuZ3RofSBmaWxlcy5gOwogICAgICAgICAgICAgICAgICAgICAgICBkb3dubG9hZEJ0bi5kaXNhYmxlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY3VycmVudFRhYiA9PT0gJ211bHRpcGxlJykgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmVmaXhlcyA9IGdldE11bHRpcGxlUHJlZml4ZXMoKTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGV0dGVycyA9IG11bHRpcGxlTGV0dGVyc0lucHV0LnZhbHVlLnNwbGl0KCcsJykubWFwKGwgPT4gbC50cmltKCkpLmZpbHRlcihsID0+IGwgIT09ICcnKTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZ3JvdXBTaXplID0gc2VsZWN0ZWRGaWxlcy5sZW5ndGg7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gcGFyc2VJbnQobXVsdGlwbGVTdGFydElucHV0LnZhbHVlKSB8fCAxOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbmQgPSBwYXJzZUludChtdWx0aXBsZUVuZElucHV0LnZhbHVlKSB8fCBzdGFydDsKICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmVmaXhlcy5sZW5ndGggPiAwICYmIGxldHRlcnMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdG90YWxQZXJQcmVmaXggPSBsZXR0ZXJzLmxlbmd0aCAqIChlbmQgLSBzdGFydCArIDEpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdG90YWxOZWVkZWQgPSBwcmVmaXhlcy5sZW5ndGggKiB0b3RhbFBlclByZWZpeDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGR1cGxpY2F0aW9uRmFjdG9yID0gTWF0aC5jZWlsKHRvdGFsTmVlZGVkIC8gc2VsZWN0ZWRGaWxlcy5sZW5ndGgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gYFNlbGVjdGVkICR7c2VsZWN0ZWRGaWxlcy5sZW5ndGh9IHBob3RvcyDihpIgJHtyZW5hbWVkRmlsZXMubGVuZ3RofSBmaWxlcyAoJHtkdXBsaWNhdGlvbkZhY3Rvcn14KS4gYDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgKz0gYFBhdHRlcm46ICR7cHJlZml4ZXMubGVuZ3RofSBwcmVmaXhlcyDDlyAke2xldHRlcnMubGVuZ3RofSBsZXR0ZXJzIMOXICR7ZW5kLXN0YXJ0KzF9IG51bWJlcnNgOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSArPSBgIChBdXRvIGdyb3VwIHNpemU6ICR7Z3JvdXBTaXplfSlgOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3dubG9hZEJ0bi5kaXNhYmxlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBTZWxlY3RlZCAke3NlbGVjdGVkRmlsZXMubGVuZ3RofSAke2ZpbGVXb3JkfS4gQWRkIGF0IGxlYXN0IG9uZSBwcmVmaXggYW5kIGxldHRlcnMuYDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvd25sb2FkQnRuLmRpc2FibGVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgU2VsZWN0ZWQgJHtzZWxlY3RlZEZpbGVzLmxlbmd0aH0gJHtmaWxlV29yZH0uIGA7CiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVuYW1lZEZpbGVzLmxlbmd0aCA+PSBzZWxlY3RlZEZpbGVzLmxlbmd0aCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSArPSBgR2VuZXJhdGVkICR7cmVuYW1lZEZpbGVzLmxlbmd0aH0gbmFtZXMuYDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvd25sb2FkQnRuLmRpc2FibGVkID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlICs9IGBXYXJuaW5nOiBPbmx5ICR7cmVuYW1lZEZpbGVzLmxlbmd0aH0gbmFtZXMgZ2VuZXJhdGVkLmA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3dubG9hZEJ0bi5kaXNhYmxlZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIHN0YXR1c0Jhci50ZXh0Q29udGVudCA9IG1lc3NhZ2U7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGZ1bmN0aW9uIHJlbmFtZUZpbGVzKCkgewogICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkRmlsZXMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgc3RhdHVzQmFyLnRleHRDb250ZW50ID0gJ1BsZWFzZSBzZWxlY3QgZmlsZXMgdG8gcmVuYW1lLic7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFRhYiAhPT0gJ2N1c3RvbScgJiYgcmVuYW1lZEZpbGVzLmxlbmd0aCA8IHNlbGVjdGVkRmlsZXMubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgICAgc3RhdHVzQmFyLnRleHRDb250ZW50ID0gJ0Vycm9yOiBOb3QgZW5vdWdoIG5hbWVzIGdlbmVyYXRlZC4nOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8gU2ltdWxhdGUgcmVuYW1pbmcgcHJvY2VzcwogICAgICAgICAgICAgICAgc3RhdHVzQmFyLmlubmVySFRNTCA9IGA8aSBjbGFzcz0iZmFzIGZhLXNwaW5uZXIgZmEtc3BpbiI+PC9pPiBSZW5hbWluZyAke3NlbGVjdGVkRmlsZXMubGVuZ3RofSBmaWxlcy4uLmA7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIHN0YXR1c0Jhci5pbm5lckhUTUwgPSBgU3VjY2VzcyEgPGkgY2xhc3M9ImZhcyBmYS1jaGVjay1jaXJjbGUiPjwvaT5gOwogICAgICAgICAgICAgICAgICAgIGRvd25sb2FkQnRuLmRpc2FibGVkID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9LCA1MDApOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICBmdW5jdGlvbiBkb3dubG9hZEZpbGVzKCkgewogICAgICAgICAgICAgICAgaWYgKHJlbmFtZWRGaWxlcy5sZW5ndGggPT09IDAgfHwgc2VsZWN0ZWRGaWxlcy5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgICAgICAgICBzdGF0dXNCYXIudGV4dENvbnRlbnQgPSAnTm8gZmlsZXMgdG8gZG93bmxvYWQuJzsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGlmIChjdXJyZW50VGFiICE9PSAnY3VzdG9tJyAmJiByZW5hbWVkRmlsZXMubGVuZ3RoIDwgc2VsZWN0ZWRGaWxlcy5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgICBzdGF0dXNCYXIudGV4dENvbnRlbnQgPSAnRXJyb3I6IE5vdCBlbm91Z2ggbmFtZXMgZ2VuZXJhdGVkLic7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBzdGF0dXNCYXIuaW5uZXJIVE1MID0gYDxpIGNsYXNzPSJmYXMgZmEtc3Bpbm5lciBmYS1zcGluIj48L2k+IFByZXBhcmluZyAke3JlbmFtZWRGaWxlcy5sZW5ndGh9IGZpbGVzLi4uYDsKICAgICAgICAgICAgICAgIHByb2dyZXNzQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpOwogICAgICAgICAgICAgICAgcHJvZ3Jlc3NCYXIuc3R5bGUud2lkdGggPSAnMCUnOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyBDcmVhdGUgYSB0ZW1wb3JhcnkgY29udGFpbmVyIGZvciBkb3dubG9hZCBsaW5rcwogICAgICAgICAgICAgICAgY29uc3QgdGVtcENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgdGVtcENvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0ZW1wQ29udGFpbmVyKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8gSW5pdGlhbGl6ZSBkb3dubG9hZCBjb3VudGVyCiAgICAgICAgICAgICAgICBsZXQgZG93bmxvYWRlZENvdW50ID0gMDsKICAgICAgICAgICAgICAgIGNvbnN0IHRvdGFsRmlsZXMgPSByZW5hbWVkRmlsZXMubGVuZ3RoOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyBGdW5jdGlvbiB0byB0cmlnZ2VyIGRvd25sb2FkIGZvciBhIGZpbGUKICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGRvd25sb2FkRmlsZShmaWxlLCBuYW1lKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmsuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmsuZG93bmxvYWQgPSBuYW1lOwogICAgICAgICAgICAgICAgICAgICAgICBsaW5rLnRleHRDb250ZW50ID0gJ0Rvd25sb2FkICcgKyBuYW1lOwogICAgICAgICAgICAgICAgICAgICAgICB0ZW1wQ29udGFpbmVyLmFwcGVuZENoaWxkKGxpbmspOwogICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXNlIHNldFRpbWVvdXQgdG8gdHJpZ2dlciB0aGUgZG93bmxvYWQKICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5rLmNsaWNrKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENsZWFuIHVwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKGxpbmsuaHJlZik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcENvbnRhaW5lci5yZW1vdmVDaGlsZChsaW5rKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAxMDApOwogICAgICAgICAgICAgICAgICAgICAgICB9LCAxMDApOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyBGdW5jdGlvbiB0byBwcm9jZXNzIGRvd25sb2FkcyBzZXF1ZW50aWFsbHkKICAgICAgICAgICAgICAgIGFzeW5jIGZ1bmN0aW9uIHByb2Nlc3NEb3dubG9hZHMoKSB7CiAgICAgICAgICAgICAgICAgICAgLy8gSGFuZGxlIGN1c3RvbSB0YWIgZHVwbGljYXRpb24KICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFRhYiA9PT0gJ2N1c3RvbScgJiYgY3VzdG9tTmFtZXNJbnB1dC52YWx1ZS50cmltKCkgIT09ICcnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVzZSB0aGUgZmlyc3QgZmlsZSBmb3IgYWxsIGN1c3RvbSBuYW1lcwogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWxlID0gc2VsZWN0ZWRGaWxlc1swXTsKICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVuYW1lZEZpbGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuYW1lID0gcmVuYW1lZEZpbGVzW2ldICsgZ2V0RmlsZUV4dGVuc2lvbihmaWxlLm5hbWUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgZG93bmxvYWRGaWxlKGZpbGUsIG5hbWUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgcHJvZ3Jlc3MKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvd25sb2FkZWRDb3VudCsrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3NCYXIuc3R5bGUud2lkdGggPSBgJHsoZG93bmxvYWRlZENvdW50IC8gdG90YWxGaWxlcykgKiAxMDB9JWA7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnRUYWIgPT09ICdtdWx0aXBsZScpIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gRm9yIG11bHRpcGxlIHRhYjogQ3ljbGUgdGhyb3VnaCB1cGxvYWRlZCBwaG90b3MKICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZW5hbWVkRmlsZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEN5Y2xlIHRocm91Z2ggYXZhaWxhYmxlIHBob3RvcwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsZUluZGV4ID0gaSAlIHNlbGVjdGVkRmlsZXMubGVuZ3RoOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsZSA9IHNlbGVjdGVkRmlsZXNbZmlsZUluZGV4XTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5hbWUgPSByZW5hbWVkRmlsZXNbaV0gKyBnZXRGaWxlRXh0ZW5zaW9uKGZpbGUubmFtZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGRvd25sb2FkRmlsZShmaWxlLCBuYW1lKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIHByb2dyZXNzCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3dubG9hZGVkQ291bnQrKzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2dyZXNzQmFyLnN0eWxlLndpZHRoID0gYCR7KGRvd25sb2FkZWRDb3VudCAvIHRvdGFsRmlsZXMpICogMTAwfSVgOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gTm9ybWFsIGRvd25sb2FkIC0gb25lIGZpbGUgcGVyIG5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWxlY3RlZEZpbGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA8IHJlbmFtZWRGaWxlcy5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWxlID0gc2VsZWN0ZWRGaWxlc1tpXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmFtZSA9IHJlbmFtZWRGaWxlc1tpXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGb3IgbnVtYmVycyB0YWIsIHdlIG5lZWQgdG8gYWRkIHRoZSBleHRlbnNpb24KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFRhYiA9PT0gJ251bWJlcnMnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWUgKz0gZ2V0RmlsZUV4dGVuc2lvbihmaWxlLm5hbWUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWUgKz0gZ2V0RmlsZUV4dGVuc2lvbihmaWxlLm5hbWUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBkb3dubG9hZEZpbGUoZmlsZSwgbmFtZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIHByb2dyZXNzCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG93bmxvYWRlZENvdW50Kys7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3NCYXIuc3R5bGUud2lkdGggPSBgJHsoZG93bmxvYWRlZENvdW50IC8gdG90YWxGaWxlcykgKiAxMDB9JWA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHRoZSB0ZW1wb3JhcnkgY29udGFpbmVyCiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGVtcENvbnRhaW5lcik7CiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1c0Jhci5pbm5lckhUTUwgPSBgRG93bmxvYWQgY29tcGxldGUhIDxpIGNsYXNzPSJmYXMgZmEtY2hlY2stY2lyY2xlIj48L2k+YDsKICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhpZGUgcHJvZ3Jlc3MgYmFyIGFmdGVyIGRlbGF5CiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3NDb250YWluZXIuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDIwMDApOwogICAgICAgICAgICAgICAgICAgIH0sIDUwMCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vIFN0YXJ0IHByb2Nlc3NpbmcgZG93bmxvYWRzCiAgICAgICAgICAgICAgICBwcm9jZXNzRG93bmxvYWRzKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGZ1bmN0aW9uIGdldEZpbGVFeHRlbnNpb24oZmlsZW5hbWUpIHsKICAgICAgICAgICAgICAgIHJldHVybiBmaWxlbmFtZS5zbGljZShmaWxlbmFtZS5sYXN0SW5kZXhPZignLicpKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgZnVuY3Rpb24gcmVzZXRUb29sKCkgewogICAgICAgICAgICAgICAgc2VsZWN0ZWRGaWxlcyA9IFtdOwogICAgICAgICAgICAgICAgcmVuYW1lZEZpbGVzID0gW107CiAgICAgICAgICAgICAgICBmaWxlSW5wdXQudmFsdWUgPSAnJzsKICAgICAgICAgICAgICAgIHVwZGF0ZUZpbGVDb3VudCgpOwogICAgICAgICAgICAgICAgdXBkYXRlQXV0b0dyb3VwU2l6ZSgpOwogICAgICAgICAgICAgICAgZ2VuZXJhdGVOYW1lcygpOwogICAgICAgICAgICAgICAgdXBkYXRlU3RhdHVzKCk7CiAgICAgICAgICAgICAgICBkb3dubG9hZEJ0bi5kaXNhYmxlZCA9IHRydWU7CiAgICAgICAgICAgICAgICBwcm9ncmVzc0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8gUmVzZXQgZm9ybSBpbnB1dHMKICAgICAgICAgICAgICAgIHByZWZpeElucHV0LnZhbHVlID0gJ1MxJzsKICAgICAgICAgICAgICAgIHN0YXJ0UmFuZ2VJbnB1dC52YWx1ZSA9ICcxJzsKICAgICAgICAgICAgICAgIGVuZFJhbmdlSW5wdXQudmFsdWUgPSAnMTAnOwogICAgICAgICAgICAgICAgcGF0dGVyblByZWZpeElucHV0LnZhbHVlID0gJ1M1JzsKICAgICAgICAgICAgICAgIGxldHRlcnNJbnB1dC52YWx1ZSA9ICdhLGIsYyxkLGUsZixnLGgsaSxqLGssbCxtLG4sbyxwLHEscixzLHQsdSx2LHcseCx5LHonOwogICAgICAgICAgICAgICAgcGF0dGVyblN0YXJ0SW5wdXQudmFsdWUgPSAnMSc7CiAgICAgICAgICAgICAgICBwYXR0ZXJuRW5kSW5wdXQudmFsdWUgPSAnMic7CiAgICAgICAgICAgICAgICBwYWlyU2l6ZUlucHV0LnZhbHVlID0gJzInOwogICAgICAgICAgICAgICAgY3VzdG9tTmFtZXNJbnB1dC52YWx1ZSA9ICcnOwogICAgICAgICAgICAgICAgc3RhcnROdW1iZXJJbnB1dC52YWx1ZSA9ICcxJzsKICAgICAgICAgICAgICAgIHN0ZXBWYWx1ZUlucHV0LnZhbHVlID0gJzEnOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyBSZXNldCBtdWx0aXBsZSB0YWIgaW5wdXRzCiAgICAgICAgICAgICAgICBtdWx0aXBsZVN0YXJ0SW5wdXQudmFsdWUgPSAnMSc7CiAgICAgICAgICAgICAgICBtdWx0aXBsZUVuZElucHV0LnZhbHVlID0gJzEnOwogICAgICAgICAgICAgICAgbXVsdGlwbGVMZXR0ZXJzSW5wdXQudmFsdWUgPSAnYSxiLGMnOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyBSZXNldCBtdWx0aXBsZSBwcmVmaXhlcwogICAgICAgICAgICAgICAgY29uc3QgcHJlZml4Um93cyA9IHByZWZpeElucHV0cy5xdWVyeVNlbGVjdG9yQWxsKCcucHJlZml4LWlucHV0LXJvdycpOwogICAgICAgICAgICAgICAgcHJlZml4Um93cy5mb3JFYWNoKChyb3csIGluZGV4KSA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ID4gMSkgeyAvLyBLZWVwIG9ubHkgZmlyc3QgdHdvCiAgICAgICAgICAgICAgICAgICAgICAgIHByZWZpeElucHV0cy5yZW1vdmVDaGlsZChyb3cpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyBSZXNldCBmaXJzdCBwcmVmaXggaW5wdXQKICAgICAgICAgICAgICAgIGNvbnN0IGZpcnN0SW5wdXQgPSBwcmVmaXhJbnB1dHMucXVlcnlTZWxlY3RvcignLm11bHRpcGxlLXByZWZpeCcpOwogICAgICAgICAgICAgICAgaWYgKGZpcnN0SW5wdXQpIHsKICAgICAgICAgICAgICAgICAgICBmaXJzdElucHV0LnZhbHVlID0gJ1M1JzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8gUmVzZXQgc2Vjb25kIGlucHV0CiAgICAgICAgICAgICAgICBjb25zdCBzZWNvbmRJbnB1dCA9IHByZWZpeElucHV0cy5xdWVyeVNlbGVjdG9yQWxsKCcubXVsdGlwbGUtcHJlZml4JylbMV07CiAgICAgICAgICAgICAgICBpZiAoc2Vjb25kSW5wdXQpIHsKICAgICAgICAgICAgICAgICAgICBzZWNvbmRJbnB1dC52YWx1ZSA9ICdTMTUnOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyBSZXNldCB0YWJzIChvbmx5IHJhbmdlIHRhYiBpbiBkZW1vIG1vZGUpCiAgICAgICAgICAgICAgICB0YWJzLmZvckVhY2godCA9PiB0LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpKTsKICAgICAgICAgICAgICAgIHRhYnNbMF0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7CiAgICAgICAgICAgICAgICByYW5nZVRhYi5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTsKICAgICAgICAgICAgICAgIHBhdHRlcm5UYWIuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7CiAgICAgICAgICAgICAgICBtdWx0aXBsZVRhYi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTsKICAgICAgICAgICAgICAgIGN1c3RvbVRhYi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTsKICAgICAgICAgICAgICAgIG51bWJlcnNUYWIuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7CiAgICAgICAgICAgICAgICBsaWNlbnNlVGFiLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpOwogICAgICAgICAgICAgICAgY3VycmVudFRhYiA9ICdyYW5nZSc7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIHN0YXR1c0Jhci50ZXh0Q29udGVudCA9ICdSZWFkeSB0byByZW5hbWUgcGhvdG9zLiBTZWxlY3QgZmlsZXMgYW5kIG9wdGlvbnMuJzsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgPC9zY3JpcHQ+CjwvYm9keT4KPC9odG1sPgo="))));</script>
